<nav>
    <div class="left-panel d-flex align-items-center">
        <div class="menutoggle me-3">
            <button class="btn m-0 align-items-center d-flex" (click)="toggleMenu()">
                <i class="fa-solid" [ngClass]="isMenuOpen ? 'fa-angles-left' : 'fa-angles-right'"></i>
            </button>
        </div>
        <div class="d-flex me-3">
            <label class="me-2">
                <i class="fa-solid fa-sun"></i>
            </label>
            <div class="form-check form-switch">
                <input type="checkbox" role="button" id="darkmodeswitch" class="form-check-input">
            </div>
            <label class="ms-1">
                <i class="fa-solid fa-moon"></i>
            </label>
        </div>
    </div>
    <div class="right-panel">
        <span class="subscribe_button d-flex align-items-center justify-content-center" role="button">
            <h5 class="mb-0">Time Left</h5>
            <!-- <img src="../../../../uniprep-assets/icons/hourglass.svg"> -->
            <i class="px-3 fa-solid fa-hourglass-end h3 mb-0"></i>
            <div class="row">
                <div class="col-md-12 text-center">
                    <countdown #cd (event)="handleEvent($event)" *ngIf="config" [config]="config" class="custom-style">
                    </countdown>
                </div>
               <div class="col-md-12 text-center mt-1 fw-bold" style="font-size:10px">
                   <span class="px-2">DAYS  </span><span class="px-2">HRS  </span><span class="px-2">MIN</span>
                </div>
            </div>
        </span>
        <button class="btn btn-primary mx-2" alt="chat with notification" routerLink="/pages/subscriptions">Subscribe Now</button>
        <button class="btn btn-secondary subscribe_button mx-2 me-4" (click)="openReportModal(op, $event)" alt="reports"
                alt="chat with notification"><i class="fa-solid fa-files"></i> Report
        </button>
        <p-overlayPanel #op>
            <ng-template pTemplate="content">
                <div class="container px-0">
                    <form [formGroup]="reportSubmitForm" (ngSubmit)="onSubmit()">
                        <div class="row report">
                            <p class="report-label text-left mb-0">Modules</p>
                            <span class="report-modal">
                            <p-dropdown [options]="moduleList" (onChange)="onChangeModuleList($event.value)"
                                        formControlName="moduleId" [(ngModel)]="moduleNgModel"
                                        optionValue="id"
                                        class="w-100" id="moduleId" optionLabel="module_name"></p-dropdown>
                        </span>
                            <p class="report-label text-left mb-0">Categories</p>
                            <span class="report-modal">
                            <p-dropdown [options]="subModuleList" [(ngModel)]="subModuleNgModel"
                                        formControlName="submoduleId"  optionValue="id"
                                        (onChange)="onChangeSubModuleList($event.value)"
                                        class="w-100" id="submoduleId" optionLabel="submodule_name"></p-dropdown>
                        </span>
                            <p class="report-label text-left mb-0">Question Number</p>
                            <span class="report-modal">
                            <p-dropdown [options]="questionList" [(ngModel)]="questionIdNgModel"
                                        optionValue="id"
                                        formControlName="questionId" (onChange)="onChangeQuestionIdList($event)"
                                        class="w-100" id="questionId" optionLabel="index"></p-dropdown>
                        </span>
                            <p class="report-label text-left mb-0">Issue Type</p>
                            <span class="report-modal">
                            <p-dropdown [options]="reportOptionList" [(ngModel)]="reportOptionNgModel"
                                        optionValue="id"
                                        formControlName="reportOption" (onChange)="onChangeIssueTypeList($event)"
                                        class="w-100" id="reportOption" optionLabel="reportoption_name"></p-dropdown>
                        </span>
                            <p class="report-labeltext-left mb-0">Add Command</p>
                            <span class="report-modal">
                            <textarea formControlName="comment" pInputTextarea id="comment"></textarea>
                        </span>
                            <span>
                            <button class="btn btn-primary w-100 m-0">
                                Submit
                            </button>
                        </span>

                        </div>
                    </form>
                </div>
            </ng-template>
        </p-overlayPanel>
        <!--        <p-button (click)="op.toggle($event)" icon="pi pi-image" label="Show"></p-button>-->
        <!-- <p-avatar (click)="togleSidebar.emit()" class="" label="" role="button">
            <i class="fa-solid fa-coins"></i>
        </p-avatar> -->
        <p-avatar (click)="togleSidebar.emit()" (click)="openModal($event)" class="" label="" role="button">
            <i class="fa-solid fa-comments"></i>
        </p-avatar>
        <p-avatar (click)="togleSidebar.emit()" class="" label="" role="button">
            <i class="fa-solid fa-bell"></i>
        </p-avatar>
        <!--        <p-avatar (click)="togleSidebar.emit()" label="{{firstChar}}"></p-avatar>-->
        <!--        <span>{{userName}}</span>-->
        <!--        <div class="dropdown">-->
        <!--            <i class="pi pi-angle-down text-primary dropbtn"></i>-->
        <!--            <div class="dropdown-content" style="right: 0; left: auto;">-->
        <!--                <a (click)="logout()">Logout</a>-->
        <!--            </div>-->
        <!--        </div>-->
        <div class="dropdown profile-dropdown">
            <button class="button" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span class="nme">{{(firstChar || '')?.charAt(0)}}</span> {{userName}}
            </button>
            <ul class="dropdown-menu">
                <li>
                    <a class="dropdown-item pt-2 pb-2" routerLink="/usermanagement">
                        <div class="d-flex justify-content-top">
                            <i class="fa-solid fa-user me-2 mt-1"></i>
                            <div>
                                <p class="fw-semibold mb-1">{{userName}}</p>
                                <p class="mb-0">{{userName}}</p>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a class="dropdown-item pt-2 pb-2" (click)="changePassword()">
                        <div class="d-flex justify-content-top">
                            <i class="fa-solid fa fa-lock me-2 mt-1"></i>
                            <div>
                                <p class="fw-semibold mb-1">Change</p>
                                <p class="mb-0">Password</p>
                            </div>
                        </div>
                    </a>
                </li>
                <li><a class="dropdown-item pt-2 pb-2" (click)="logout()"><i class="fa-solid fa-power-off me-2"></i>Logout</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<p-dialog [(visible)]="visible" [closable]="true" [style]="{ width: 'auto' }" class="p-0 m-0 bg-white"
          class="timerpopup"
          [modal]="true" [draggable]="false" [resizable]="false">
    <div class="px-5 pb-5 pt-3">
        <div class="justify-content-center text-center pb-5 px-2">
            <h5 class="text-center mb-2">Your 1 Hour Free Trial has<br>Exhausted</h5>
            <div><img src="../../../uniprep-assets/images/icons/timerstart.png" width="auto"></div>
            <button class="btn btn-primary text-white">Subscribe Now</button>
        </div>
    </div>
</p-dialog>

<p-dialog class="thankyoupopup" [modal]="true" header="Header" [(visible)]="showReportSuccess"
          [breakpoints]="{ '960px': '75vw' }"
          [style]="{ width: 'auto' }" [draggable]="false" [resizable]="false">
    <ng-template pTemplate="header">
        <span class="text-xl font-bold"></span>
    </ng-template>
    <div class="px-3 pb-3 pt-2">
        <div class="justify-content-center text-center">
            <h4 class="text-center mb-2">We have noted your feedback.<br>Our team will get back to you shortly.</h4>
            <h3 class="text-center mb-2 text-green">Thank You</h3>
            <img class="pb-5" src="../../../uniprep-assets/images/icons/thumbsup.webp" width="auto" alt="thumbs up">
        </div>
    </div>
    <!-- <img src="../../../uniprep-assets/images/icons/report_popup.png"/> -->
</p-dialog>

<p-dialog [(visible)]="isShowFreeTrailStart" [closable]="false" [style]="{ width: 'auto' }" class="p-0 m-0 bg-white"
          class="timerpopup"
          [modal]="true" [draggable]="false" [resizable]="false">
    <div class="px-5 pb-5 pt-3">
        <div class="justify-content-center text-center pb-5 px-5">
            <h5 class="text-center mb-2">Your 1 hour free trail<br>Starts Now!</h5>
            <div><img src="../../../uniprep-assets/images/icons/timerstart.png" width="auto"></div>
            <p class="text-center text-small mb-2 mt-2">Explore all modules on UNIPERP<br>and get a certificate.</p>
            <button class="btn btn-primary btn-rounded btn-lg text-white" (click)="exploreNow()">Continue</button>
        </div>
    </div>
</p-dialog>
<p-dialog [(visible)]="isChangePasswordWindowVisible" [closable]="true" [style]="{ width: 'auto' }"
          class="p-0 m-0 bg-white"
          [modal]="true" [draggable]="false" [resizable]="false">
    <div class="px-5 pb-5 pt-3">
        <div class="justify-content-center text-center pb-5 px-5">
            <h5 class="text-center mb-2">Change Password</h5>
            <form [formGroup]="setPasswordForm" (ngSubmit)="passwordChangeOnClick()">
                <ng-container>

                    <label class="signup mb-3"
                    >your new password must be different to previously used password.</label
                    >
                    <label for="floatingInput">Password</label>
                    <div class="form-floating mb-3">
                        <div class="p-inputgroup">
                            <div class="p-inputgroup-addon"><i class="pi pi-lock"></i></div>
                            <input
                                    type="password"
                                    id="floatingInput"
                                    formControlName="password"
                                    pInputText
                                    [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
                            />
                        </div>
                        <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                            <div *ngIf="f.password.errors.required">Password is required</div>
                            <div *ngIf="f.password.errors.minlength">
                                Password must be at least 8 characters
                            </div>
                        </div>
                    </div>
                    <label for="confirmPassword">Confirm Password</label>
                    <div class="p-inputgroup">
                        <div class="p-inputgroup-addon"><i class="pi pi-lock"></i></div>
                        <input
                                type="password"
                                pInputText
                                id="confirmPassword"
                                formControlName="confirmPassword"
                                [ngClass]="{
            'is-invalid': submitted && f.confirmPassword.errors
          }"
                        />
                    </div>
                    <div
                            *ngIf="submitted && f.confirmPassword.errors"
                            class="invalid-feedback"
                    >
                        <div *ngIf="f.confirmPassword.hasError('matching')">
                            Password and confirm password not match
                        </div>
                        <div *ngIf="f.confirmPassword.errors.required">
                            Confirm Password is required
                        </div>
                    </div>
                    <br/>
                    <div class="d-grid">
                        <button class="p-2 btn btn-primary btn-login text-uppercase fw-bold" type="submit">
                            Change Password
                        </button>
                    </div>
                </ng-container>
                <!--                <ng-template #done>-->
                <!--                    <div>-->
                <!--                        <div class="icn mt-3 mb-4">-->
                <!--                            <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" fill="#9bc329"-->
                <!--                                 class="bi bi-check-circle-fill" viewBox="0 0 16 16">-->
                <!--                                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>-->
                <!--                            </svg>-->
                <!--                        </div>-->
                <!--                        <p class="bold">Your account password has been successfully changed.</p>-->
                <!--                        <p style="font-size: .8rem;">Please login to unichecker with your new password.</p>-->
                <!--                        <button routerLink="/login" class="btn btn-primary w-full" type="button">-->
                <!--                            CONTINUE TO LOGIN-->
                <!--                        </button>-->
                <!--                    </div>-->
                <!--                </ng-template>-->
            </form>
        </div>
    </div>
</p-dialog>
<!-- <p-dialog class="thankyoupopup" [modal]="true" header="Header" [(visible)]="isShowFreeTrailStart" [closable]="false"
          [breakpoints]="{ '960px': '75vw' }"
          [style]="{ width: '30vw' }" [draggable]="false" [resizable]="false">
    <ng-template pTemplate="header">
        <span class="text-xl font-bold"></span>
    </ng-template>
    <div class="px-3 pb-3 pt-2">
        <div class="justify-content-center text-center">
            <h4>Your 1 hour free trail Starts Now!</h4>
            <img class="pb-5 pt-2" src="../../../../uniprep-assets/images/icons/clock_icon.png" width="auto" alt="thumbs up">
            <p class="text-center mb-2 mt-2">Explore all moduleon UNIPERP and get a certificate.</p>
            <button  class="btn btn-primary text-white">Continue</button>
        </div>
    </div>
 <img src="../../../uniprep-assets/images/icons/clock_card.png"/>
</p-dialog> -->