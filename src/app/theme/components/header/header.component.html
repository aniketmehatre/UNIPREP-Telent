<nav class="px-0" role="navigation" aria-label="Main navigation">
	<div class="container-fluid">
		<div class="row align-items-center">
			<div class="col-lg-6 col-md-6 col-12">
				<div class="d-flex gap-2 justify-content-between">
					<div class="d-flex align-items-center gap-2">
						<div class="d-lg-none d-md-block d-sm-block d-block">
							<a class="text-decoration-none uniprep-primary" data-bs-toggle="offcanvas"
								href="#offcanvasWithBothOptions" role="button" aria-controls="offcanvasWithBothOptions"
								aria-label="Open menu">
								<i class="fa-solid fa-bars fa-2xl" aria-hidden="true"></i>
							</a>
						</div>
					</div>
					<div class="d-md-none gap-2 d-flex align-items-center">
						<div label="" role="button" class="headerHomeCountry p-0" [title]="homeCountryName"
							[attr.aria-label]="'Selected country: ' + homeCountryName">
							<img #openCountryPopup (error)="$event.target.src = '/uniprep-assets/images/location.webp'"
								[src]="headerHomeFlag ? headerHomeFlag : '../../uniprep-assets/images/location.webp'"
								alt="{{ homeCountryName }} flag" height="auto" width="auto" />
						</div>
						<p-avatar (click)="openchat()" class="mr-2" size="large" role="button" aria-label="Open chat"><i
								class="fa-solid fa-comments" aria-hidden="true"></i> </p-avatar>
						<p-avatar class="" label="" *ngIf="false" (click)="np.toggle($event)" icon="pi pi-bell"
							size="large" role="button" aria-label="Notifications"> </p-avatar>
						<p-avatar routerLink="/pages/usermanagement" aria-expanded="false" role="button" size="large"
							aria-label="User profile">
							<span class="nme">{{ (firstChar || "")?.charAt(0) }}</span>
						</p-avatar>
						<p-avatar (click)="logout()" label="" size="large" role="button" aria-label="Logout"> <i
								class="fa-solid fa-power-off" aria-hidden="true"></i></p-avatar>
					</div>
				</div>
			</div>
			<div class="col-lg-6 col-md-6 col-12" *ngIf="userLoginTimeLeftCount">
				<div
					class="d-flex justify-content-md-end justify-content-between align-items-center mt-3 mt-md-0 gap-3">
					<div class="d-flex align-items-center">
						<button *ngIf="aiCreditCount !== 0; else buyCreditTpl" pButton (click)="buyCredits()"
							[disabled]="authService._user?.student_type_id == 2"
							class="btn btn-outline-primary text-small btn-rounded d-flex gap-2 align-items-center flex-fill"
							type="button">
							AI Credit <span class="btn-icon text-white">{{ aiCreditCount }}</span>
						</button>

						<!-- Buy Credits template -->
						<ng-template #buyCreditTpl>
							<button pButton class="btn btn-secondary text-small btn-rounded flex-fill"
								[disabled]="authService._user?.student_type_id == 2" (click)="buyCredits()"
								type="button">
								Buy Credits
							</button>
						</ng-template>
					</div>

					<div class="d-flex">
						<div class="d-flex justify-content-center align-items-center">
							<h6 class="mb-0 d-none d-md-block">TIME LEFT</h6>
							<i class="ps-1 pe-2 fa-solid fa-hourglass-end h4 mb-0 uniprep-secondary"
								aria-hidden="true"></i>
						</div>
						<div class="d-flex" role="timer" aria-label="Time remaining">
							<div class="col d-flex flex-column align-items-center px-1">
								<div class="boxView fw-semibold text-green" aria-label="{{ month$ }} months">
									{{ month$ ? month$ : "0" + "" }}
								</div>
								<span class="timertext text-uppercase">Months</span>
							</div>
							<div class="d-flex flex-column align-items-center justify-content-center">
								<span>:</span><span class="timertext">&nbsp;</span>
							</div>
							<div class="col d-flex flex-column align-items-center px-1">
								<div class="boxView fw-semibold text-green" aria-label="{{ day$ }} days">{{ day$ ? day$
									: "0" + "" }}</div>
								<span class="timertext text-uppercase">Days</span>
							</div>
							<div class="d-flex flex-column align-items-center justify-content-center">
								<span>:</span><span class="timertext">&nbsp;</span>
							</div>
							<div class="col d-flex flex-column align-items-center px-1">
								<div class="boxView fw-semibold text-green" aria-label="{{ hrs$ }} hours">{{ hrs$ ? hrs$
									: "0" + "" }}</div>
								<span class="timertext text-uppercase">Hrs</span>
							</div>
							<div class="d-flex flex-column align-items-center justify-content-center">
								<span>:</span><span class="timertext">&nbsp;</span>
							</div>
							<div class="col d-flex flex-column align-items-center px-1">
								<div class="boxView fw-semibold text-green" aria-label="{{ min$ }} minutes">{{ min$ ?
									min$ : "0" + "" }}</div>
								<span class="timertext text-uppercase">Mins</span>
							</div>
							<div class="d-flex flex-column align-items-center justify-content-center">
								<span>:</span><span class="timertext">&nbsp;</span>
							</div>
							<div class="col d-flex flex-column align-items-center px-1">
								<div class="boxView fw-semibold text-green" aria-label="{{ sec$ }} seconds">{{ sec$ ?
									sec$ : "0" + "" }}</div>
								<span class="timertext text-uppercase">Sec</span>
							</div>
						</div>
					</div>
					<div class="d-none d-md-flex gap-2">
						<!-- <button *ngIf="service._user?.student_type_id == 2" class="btn btn-ilearn"
							(click)="navigateILearnChallenge()" aria-label="iLearn Challenge">
							<span *ngIf="!iLearnChallengeData.isILearn; else showRank"
								class="text-small fw-normal">iLearn Challenge</span>
							<ng-template #showRank>
								<span class="text-small fw-normal ilearn-sec"><span class="rank">{{
										iLearnChallengeData.overAllParticipants }} out of 100 </span> <span
										class="participants">Participants</span></span>
							</ng-template>
						</button> -->
						<div label="" role="button" class="headerHomeCountry" [title]="homeCountryName"
							aria-label="Selected country: {{ homeCountryName }}">
							<img #openCountryPopup (error)="$event.target.src = '../../uniprep-assets/icons/india.png'"
								[src]="headerHomeFlag ? headerHomeFlag : '../../uniprep-assets/icons/india.png'"
								alt="{{ homeCountryName }} flag" height="auto" width="auto" />
						</div>
						<button class="btn btn-secondary d-flex justify-content-center align-items-center"
							(click)="openReportModal(op, $event)" aria-label="Open reports"
							style="width: 90px; height: 40px; padding: 0; ">
							<i class="fa-solid fa-bug" style="font-size: 16px;" aria-hidden="true"></i> Report
						</button>
					</div>

					<div class="d-flex gap-2 d-md-none align-items-center">
						<button class="btn btn-primary p-3 m-0" aria-label="Chat with notification"
							(click)="onClickSubscribe()">
							<i class="fa-solid fa-crown" aria-hidden="true"></i>
						</button>
						<button class="btn btn-secondary p-3 m-0" (click)="openReportModal(op, $event)"
							aria-label="Open reports">
							<i class="fa-solid fa-circle-exclamation" aria-hidden="true"></i>
						</button>
					</div>
					<div class="d-none d-md-flex align-items-center">
						<a (click)="openchat()" class="me-3" aria-label="Open chat">
							<p-avatar class="" label="" role="button" style="padding: 19px;">
								<i class="fa-solid fa-comments text-dark" aria-hidden="true"></i> </p-avatar>
						</a>
						<a *ngIf="false" (click)="np.toggle($event)" class="me-3" aria-label="Notifications">
							<p-avatar class="" label="" role="button">
								<i class="fa-solid fa-bell" aria-hidden="true"></i>
							</p-avatar>
						</a>
						<div class="dropdown profile-dropdown">
							<button class="button" data-bs-toggle="dropdown" aria-expanded="false"
								aria-label="User profile menu">
								<span class="nme">{{ (firstChar || "")?.charAt(0) }}</span>
							</button>
							<ul class="dropdown-menu" role="menu" aria-label="User profile menu">
								<li role="none">
									<a class="dropdown-item pt-2 pb-2" routerLink="/pages/usermanagement"
										role="menuitem">
										<div class="d-flex justify-content-top">
											<i class="fa-solid fa-user me-2 mt-1" aria-hidden="true"></i>
											<div>
												<p class="fw-semibold mb-1">{{ userName }}</p>
												<p class="mb-0">{{ userName }}</p>
											</div>
										</div>
									</a>
								</li>
								<li role="none">
									<a class="dropdown-item pt-2 pb-2" (click)="logout()" role="menuitem">
										<i class="fa-solid fa-power-off me-2" aria-hidden="true"></i>Logout
									</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-6 col-12" *ngIf="!userLoginTimeLeftCount">
				<div
					class="d-flex align-items-center justify-content-md-end justify-content-between align-items-center mt-3 mt-md-0">
					<div class="d-flex align-items-center">
						<button *ngIf="aiCreditCount !== 0; else buyCreditTpl" pButton (click)="buyCredits()"
							[disabled]="authService._user?.student_type_id == 2"
							class="btn btn-outline-primary text-small btn-rounded d-flex gap-2 align-items-center flex-fill"
							type="button">
							AI Credit <span class="btn-icon text-white">{{ aiCreditCount }}</span>
						</button>

						<!-- Buy Credits template -->
						<ng-template #buyCreditTpl>
							<button pButton class="btn btn-secondary text-small btn-rounded flex-fill"
								[disabled]="authService._user?.student_type_id == 2" (click)="buyCredits()"
								type="button">
								Buy Credits
							</button>
						</ng-template>
					</div>
					<div class="d-flex">
						<div class="d-flex justify-content-center align-items-center">
							<h6 class="mb-0 d-none d-md-block">TIME LEFT</h6>
							<i class="ps-1 pe-2 fa-solid fa-hourglass-end h4 mb-0 uniprep-secondary"></i>
						</div>
						<div class="d-flex me-2">
							<div class="col d-flex flex-column align-items-center px-1">
								<div class="boxView fw-semibold text-green">{{ month$ ? month$ : "0" + "" }}</div>
								<span class="timertext text-uppercase">Month</span>
							</div>
							<div class="col d-flex flex-column align-items-center px-1">
								<div class="boxView fw-semibold text-green">{{ day$ ? day$ : "0" + "" }}</div>
								<span class="timertext text-uppercase">Days</span>
							</div>
							<div class="col d-flex flex-column align-items-center px-1">
								<div class="boxView fw-semibold text-green">{{ hrs$ ? hrs$ : "0" + "" }}</div>
								<span class="timertext text-uppercase">Hrs</span>
							</div>
							<div class="d-flex flex-column align-items-center justify-content-center">
								<span>:</span><span class="timertext">&nbsp;</span>
							</div>
							<div class="col d-flex flex-column align-items-center px-1">
								<div class="boxView fw-semibold text-green">{{ min$ ? min$ : "0" + "" }}</div>
								<span class="timertext text-uppercase">Mins</span>
							</div>
							<div class="d-flex flex-column align-items-center justify-content-center">
								<span>:</span><span class="timertext">&nbsp;</span>
							</div>
							<div class="col d-flex flex-column align-items-center px-1">
								<div class="boxView fw-semibold text-green">{{ sec$ ? sec$ : "0" + "" }}</div>
								<span class="timertext text-uppercase">Sec</span>
							</div>
						</div>
					</div>
					<div class="d-flex gap-2 d-md-none">
						<button class="btn btn-primary p-3 m-0" aria-label="Chat with notification"
							(click)="onClickSubscribe()">
							<i class="fa-solid fa-crown" aria-hidden="true"></i>
						</button>
						<button class="btn btn-secondary p-3 m-0" (click)="openReportModal(op, $event)"
							aria-label="Open reports">
							<i class="fa-solid fa-circle-exclamation" aria-hidden="true"></i>
						</button>

					</div>
					<div class="d-none d-md-flex gap-2 align-items-center">
						<!--						<button *ngIf="service._user?.student_type_id == 2" class="btn btn-ilearn"-->
						<!--							(click)="navigateILearnChallenge()">-->
						<!--							<span *ngIf="!iLearnChallengeData.isILearn; else showRank"-->
						<!--								class="text-small fw-normal">iLearn Challenge</span>-->
						<!--							<ng-template #showRank>-->
						<!--								<span class="text-small fw-normal ilearn-sec">-->
						<!--									<span class="rank">{{ iLearnChallengeData.overAllParticipants }} out of 100</span>-->
						<!--									<span class="participants">Participants</span>-->
						<!--								</span>-->
						<!--							</ng-template>-->
						<!--						</button>-->
						<div *ngIf="!userTypeId">
							<button *ngIf="ehitlabelIsShow"
								class="btn btn-primary btn-rounded d-flex flex-column align-items-center"
								aria-label="Chat with notification" (click)="onClickSubscribe()">
								<i class="fa-solid fa-crown mb-2 " style="font-size: 14px;"></i>
								<span class="text-sm fw-normal px-3" style="font-size:12px">Subscribe Now</span>
							</button>
						</div>
						<button class="btn btn-secondary d-flex justify-content-center align-items-center"
							(click)="openReportModal(op, $event)" aria-label="Open reports"
							style="width: 90px; height: 40px; padding: 0; ">
							<i class="fa-solid fa-bug" style="font-size: 16px;"> </i> Report
						</button>
					</div>
					<div label="" role="button" class="headercountry me-2 ms-2 d-none d-md-block"
						title="Selected Country">
						<img src="../../../uniprep-assets/icons/india.png" alt="flag" height="auto" width="auto" />
					</div>

					<div class="d-none d-md-flex align-items-center gap-3">
						<a (click)="openchat()" title="Chat" aria-label="Open chat">
							<p-avatar class="" label="" role="button" style="padding: 19px;">
								<i class="fa-solid fa-comments"></i>
							</p-avatar>
						</a>
						<div class="dropdown profile-dropdown">
							<button class="button d-flex align-items-center" data-bs-toggle="dropdown"
								aria-expanded="false" title="My Profile" aria-label="User profile menu">
								<span class="nme">{{ (firstChar || "")?.charAt(0) }}</span>
							</button>
							<ul class="dropdown-menu" role="menu" aria-label="User profile menu">
								<li role="none">
									<a class="dropdown-item pt-2 pb-2" routerLink="/pages/usermanagement"
										role="menuitem">
										<div class="d-flex align-items-start">
											<i class="fa-solid fa-user me-2 mt-1" aria-hidden="true"></i>
											<div>
												<p class="fw-semibold mb-1">{{ userName }}</p>
												<p class="mb-0">{{ userName }}</p>
											</div>
										</div>
									</a>
								</li>
								<li role="none">
									<a class="dropdown-item pt-2 pb-2" (click)="logout()" role="menuitem">
										<i class="fa-solid fa-power-off me-2" aria-hidden="true"></i> Logout
									</a>
								</li>
							</ul>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>
</nav>

<p-popover #op styleClass="reportwidthfix" appendTo="body" aria-label="Report form">
	<ng-template pTemplate="content">
		<div class="container px-0">
			<form [formGroup]="reportSubmitForm" (ngSubmit)="onSubmit(op)" role="form"
				aria-label="Report submission form">
				<div class="row report">
					<p *ngIf="false" class="report-label text-left mb-0">General / Modules</p>
					<span *ngIf="false" class="report-modal">
						<p-select [options]="genMod" (onChange)="onChangeChooseMain($event.value)"
							[(ngModel)]="selectedGenMod" optionValue="id" formControlName="general" class="w-100"
							id="genMod" optionLabel="name" aria-label="Select general module"></p-select>
					</span>
					<div *ngIf="isVisibleModulesMenu">
						<p *ngIf="isQuestionVisible" class="report-label text-left mb-0">Modules</p>
						<span *ngIf="isQuestionVisible" class="report-modal">
							<p-select [options]="moduleList" (onChange)="onChangeModuleList($event.value)"
								formControlName="moduleId" [(ngModel)]="moduleNgModel" optionValue="id" class="w-100"
								id="moduleId" optionLabel="module_name" aria-label="Select module"></p-select>
						</span>
						<p *ngIf="isQuestionVisible" class="report-label text-left mb-0">Categories</p>
						<span *ngIf="isQuestionVisible" class="report-modal">
							<p-select [options]="subModuleList" [(ngModel)]="subModuleNgModel"
								formControlName="submoduleId" optionValue="id"
								(onChange)="onChangeSubModuleList($event.value)" class="w-100" id="submoduleId"
								optionLabel="submodule_name" aria-label="Select category"></p-select>
						</span>
						<p *ngIf="isQuestionVisible" class="report-label text-left mb-0">Question Number</p>
						<span *ngIf="isQuestionVisible" class="report-modal">
							<p-select [options]="questionList" [(ngModel)]="questionIdNgModel" optionValue="id"
								formControlName="questionId" class="w-100" id="questionId" optionLabel="index"
								aria-label="Select question number"></p-select>
						</span>
					</div>
					<p class="report-label text-left mb-0">Issue Type</p>
					<span class="report-modal">
						<p-select [options]="reportOptionList" [(ngModel)]="reportOptionNgModel" optionValue="id"
							formControlName="reportOption" class="w-100" id="reportOption"
							placeholder="Select issue type" optionLabel="reportoption_name"
							aria-label="Select issue type"></p-select>
					</span>
					<p class="report-label text-left mb-0">Comment</p>
					<span class="report-modal">
						<textarea formControlName="comment" fluid pTextarea id="comment" aria-label="Enter your comment"
							placeholder="Enter your comment"></textarea>
					</span>
					<span>
						<button pButton class="btn btn-primary w-100 m-0" aria-label="Submit report">Submit</button>
					</span>
				</div>
			</form>
		</div>
	</ng-template>
</p-popover>

<p-popover #totalCountryList [style]="{ width: '100%', 'max-width': 'fit-content' }" aria-label="Country selection">
	<ng-template pTemplate="content">
		<div *ngIf="isLondon" class="mega-menu">
			<div class="row">
				<div class="col" *ngFor="let column of [0, 1, 2]">
					<ul class="px-0" role="list">
						<ng-container
							*ngFor="let v of countryLists.slice(column * 10, (column + 1) * 10); let i = index">
							<li class="list-group-item my-2 d-flex align-items-center gap-2" role="button"
								(click)="selectCountryInHeader(v, totalCountryList)" tabindex="0"
								aria-label="Select {{ v.country }}">
								<img (error)="$event.target.src = '/uniprep-assets/images/location.webp'"
									alt="{{ v.country }} flag" class="countryicon mr-2"
									[src]="v.flag || '../../uniprep-assets/images/location.webp'" width="25" />
								<span class="text-nowrap">{{ v.country }}</span>
							</li>
						</ng-container>
						<ng-container *ngIf="column === 2 && countryLists.length < 30">
							<li *ngFor="let _ of [].constructor(30 - countryLists.length)" class="list-group-item"></li>
						</ng-container>
					</ul>
				</div>
			</div>
		</div>
	</ng-template>
</p-popover>

<p-popover #totalHomeCountryList [style]="{ width: '300px' }">
	<ng-template pTemplate="content">
		<div *ngIf="isLondon" class="mega-menu">
			<div class="row justify-content-center">
				<h5 class="text-center mb-2">Home Country</h5>
				<p-select id="selectedHomeCountry" [styleClass]="'w-100'" style="width: 100% !important"
					[(ngModel)]="selectedHomeCountry" [options]="countryList" [filter]="true" filterBy="country"
					[showClear]="true" optionLabel="country" (onChange)="onHomeCountryChange($event)"
					placeholder="Source Country">
					<ng-template pTemplate="selectedItem">
						<div class="flex align-items-center gap-2" *ngIf="selectedHomeCountry">
							<img (error)="$event.target.src = '/uniprep-assets/images/location.webp'"
								[src]="selectedHomeCountry.flag ? selectedHomeCountry.flag  : '../../uniprep-assets/images/location.webp'"
								[class]="'flag flag-' + selectedHomeCountry.code" style="width: 18px" />
							<div>{{ selectedHomeCountry.country }}</div>
						</div>
					</ng-template>
					<ng-template let-country pTemplate="item">
						<div class="flex align-items-center gap-2">
							<img (error)="$event.target.src = '/uniprep-assets/images/location.webp'"
								[src]="country.flag ? country.flag : '../../uniprep-assets/images/location.webp'"
								[class]="'flag flag-' + country.code" style="width: 18px" />
							<div>{{ country.country }}</div>
						</div>
					</ng-template>
				</p-select>
			</div>
		</div>
	</ng-template>
</p-popover>

<p-dialog [(visible)]="visible" [closable]="true" [style]="{ width: 'auto' }" class="p-0 m-0 bg-white"
	class="timerpopup" [modal]="true" [draggable]="false" [resizable]="false">
	<div class="px-5 pb-5 pt-3">
		<div class="justify-content-center text-center pb-5 px-2">
			<h5 class="text-center mb-2">Your 1 Hour Free Trial has<br />Exhausted</h5>
			<div>
				<img src="../../../uniprep-assets/images/icons/timerstart.png" width="auto" />
			</div>
			<button pButton class="btn btn-primary text-white">Subscribe Now</button>
		</div>
	</div>
</p-dialog>


<p-dialog [(visible)]="isShowFreeTrialStart" [closable]="false" [style]="{ width: 'auto' }" class="p-0 m-0 bg-white"
	class="timerpopup" [modal]="true" [draggable]="false" [resizable]="false">
	<div class="px-5 pb-5 pt-3">
		<div class="justify-content-center text-center pb-5 px-5">
			<h5 class="text-center mb-2">Your 1 hour free trial<br />Starts Now!</h5>
			<div>
				<img src="../../../uniprep-assets/images/icons/timerstart.png" width="auto" />
			</div>
			<p class="text-center text-small mb-2 mt-2">Explore all modules on UNIPERP<br />and get a certificate.</p>
			<button pButton class="btn btn-primary btn-rounded btn-lg text-white"
				(click)="exploreNow()">Continue</button>
		</div>
	</div>
</p-dialog>

<p-dialog [(visible)]="visible" [closable]="false" class="p-0 m-0" [modal]="true" [draggable]="false"
	[resizable]="false">
	<div class="d-flex justify-content-between p-4">
		<div>
			<h4>Your {{ timeLeftInfo }}<span class="text-xl font-bold p-1 fw-bold" style="color: #3f4c83"> Free
					Trial</span>Exhausted</h4>
			<p class="get-certificate">Explore all modules on UNIPREP and get a certificate.</p>
		</div>
		<div>
			<img src="../../../uniprep-assets/images/popup-clock.png" alt="clock" width="70" />
		</div>
	</div>
	<div class="px-5 pb-5 pt-3">
		<h4>Get More With our<span class="text-xl font-bold p-1 fw-bold" style="color: #3f4c83"> Subscription.</span>
		</h4>
		<p class="list-data"><i class="pi pi-check mr-2"></i>Find Over 5 Lakh questions and answers throughout platform
		</p>
		<p class="list-data"><i class="pi pi-check mr-2"></i>Ask any Personalized Questions & Get answer within 12
			working hours</p>
		<p class="list-data"><i class="pi pi-check mr-2"></i>Get Expert Answers to Your Queries</p>
		<p class="list-data"><i class="pi pi-check mr-2"></i>Discover Unexplored Questions</p>
		<p class="list-data"><i class="pi pi-check mr-2"></i>Earn a Certificate by Taking Quizzes</p>
		<p class="list-data"><i class="pi pi-check mr-2"></i>Share Your Certificates on LinkedIn</p>
		<p class="list-data"><i class="pi pi-check mr-2"></i>Find Answers to your question with Verified Source links
		</p>
		<p class="list-data"><i class="pi pi-check mr-2"></i>Answers to your questions reviewed by Educational Bodies
		</p>
		<p class="list-data"><i class="pi pi-check mr-2"></i>Navigate using Keyword Search</p>
		<div class="d-flex justify-content-center">
			<button pButton class="btn btn-primary btn-rounded me-2 ms-0 my-0" (click)="onClickSubscribe()"
				alt="chat with notification">
				<span class="text-small fw-normal px-3">Subscribe Now</span>
			</button>
		</div>
	</div>
</p-dialog>

<p-dialog [(visible)]="whatsappVerification" [modal]="true" [closable]="false" styleClass="whatsappVerification"
	aria-label="WhatsApp verification" [style]="{ width: '30vw' }">
	<div class="container">
		<div class="row mb-2">
			<div class="col-md-12 px-4">
				<div class="d-flex flex-column">
					<div class="mt-1 mb-1">
						<span>
							<strong class="firsttimelogin">
								<h3 style="color: #f0780e; margin-bottom: 0">User Verification</h3>
							</strong>
						</span>
					</div>
					<form [formGroup]="phoneVerification" role="form" aria-label="Phone verification form">
						<div class="w-100 phonenumberblock mt-2">
							<p class="m-2">Enter Your {{haveWhatsapp}} number to continue the experience</p>
							<ngx-intl-tel-input class="intel-input w-100" [cssClass]="'custom-less-padding'"
								[preferredCountries]="['in', 'gb']" [enableAutoCountrySelect]="true" appendTo="body"
								[enablePlaceholder]="true" [searchCountryFlag]="true" [maxLength]="15"
								[searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
								[phoneValidation]="true" [selectedCountryISO]="preferredCountry"
								customPlaceholder="Enter {{haveWhatsapp}} Number" formControlName="verification_phone"
								[attr.disabled]="isSendingOTP" aria-label="Enter WhatsApp number"></ngx-intl-tel-input>
							<div class="d-flex align-items-center justify-content-between mt-2">
								<div class="d-flex align-items-center">
									<input type="checkbox" formControlName="choice" class="form-check-input mt-0"
										(change)="onCheckHaveWhatsappOrPhone($event)" id="noWhatsapp" />
									<label for="noWhatsapp">I don't have a {{haveWhatsapp}} Number</label>
								</div>
								<div *ngIf="isSendingOTP" class="text-primary" role="button" (click)="onEditNumber()">
									Edit Number</div>
							</div>
						</div>
						<div class="d-flex justify-content-end mt-2">
							<a class="fw-medium text-primary text-decoration-underline"
								[class.disabled]="phoneVerification.invalid" role="button" style="cursor: pointer;"
								(click)="sendOTP()">
								Send OTP
							</a>
						</div>
						<div *ngIf="isSendingOTP">
							<p class="centertitle mt-2">Enter your {{haveWhatsapp}} number to continue the experience</p>
							<div class="otp-container m-4" role="group" aria-label="OTP input">
								<input *ngFor="let digit of otpArray; let i = index" type="text" maxlength="1"
									class="otp-box" [id]="'otp-' + i" [(ngModel)]="otp[i]" formControlName="otp"
									(input)="onInputOTP($event, i)" (keydown)="onKeydownOPT($event, i)"
									aria-label="OTP digit {{ i + 1 }}" />
							</div>
							<div class="d-flex justify-content-center m-3 gap-3">
								<button pButton *ngIf="isResendOTP" [disabled]="phoneVerification.invalid"
									style="padding: 8px 20px" class="btn btn-primary" (click)="sendOTP()"
									aria-label="Resend OTP">
									<span class="fw-medium px-3">Resend OTP</span>
								</button>
								<button pButton [disabled]="phoneVerification.invalid" style="padding: 8px 20px"
									class="btn btn-primary" (click)="submitPhoneVerification()"
									aria-label="Submit verification">
									<span class="fw-medium px-3">Submit</span>
								</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</p-dialog>

<p-dialog [(visible)]="freeTrial" [modal]="true" [closable]="false" styleClass="FirstLoginPopup">
	<div class="container">
		<div class="row mb-2 p-2">
			<div class="col-md-12 px-4">
				<div class="d-flex flex-column">
					<div class="icon-container d-flex justify-content-center p-2">
						<img src="../../../uniprep-assets/images/TrialStart.png" alt="clock" width="65" />
					</div>
					<div class="mt-1 mb-1">
						<span>
							<strong class="firsttimelogin">
								<h5 style="color: rgb(63 76 131)">Congratulations</h5>
							</strong>
						</span>
					</div>
					<div class="mt-1">
						<span>
							<strong class="firsttimelogin">
								<h2 style="color: #f0780e; margin-bottom: 0">You have unlocked</h2>
							</strong>
							<strong class="firsttimelogin">
								<h2 style="color: #f0780e; margin-top: 0">{{ timeLeftInfo }} free trial.</h2>
							</strong>
						</span>
					</div>
					<form [formGroup]="mobileForm">
						<div class="w-100 phonenumberblock d-none" *ngIf="formvisbility">
							<p class="m-1">Enter your number to continue the experience</p>
							<ngx-intl-tel-input class="intel-input w-100" appendTo="body"
								[cssClass]="isPhoneDisabled ? 'custom-less-padding disabled' : 'custom-less-padding'"
								[preferredCountries]="['in', 'gb']" [enableAutoCountrySelect]="true"
								[enablePlaceholder]="true" [searchCountryFlag]="true" [maxLength]="15"
								[searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
								[phoneValidation]="true" [selectedCountryISO]="preferredCountry"
								[(ngModel)]="phoneNumber" [disabled]="isPhoneDisabled" [attr.disabled]="isPhoneDisabled"
								customPlaceholder="Enter {{haveWhatsapp}} Number"
								formControlName="phone"></ngx-intl-tel-input>
						</div>
						<div class="w-100 phonenumberblock mt-2" *ngIf="formvisbility">
							<p class="m-1">Select Your Home Country</p>
							<p-select class="w-100" formControlName="home_country" appendTo="body"
								[options]="homeCountryList" [filter]="true" placeholder="Country" [autofocus]="true"
								(onChange)="changeLocation($event)" filterBy="country" optionLabel="country"
								optionValue="id" [autoDisplayFirst]="false" styleClass="custom-dropdown"></p-select>
						</div>
						<div class="w-100 phonenumberblock mt-2" *ngIf="formvisbility">
							<p class="m-1">Select Your Current Education</p>
							<p-select class="w-100" formControlName="study_level" appendTo="body"
								[options]="programLevelList" placeholder="Current Education" optionLabel="programlevel"
								optionValue="id" [autoDisplayFirst]="false" styleClass="custom-dropdown"></p-select>
						</div>
						<div *ngIf="freeTrialErrorMsg" class="text-danger text-center">
							{{ freeTrialErrorMsg }}
						</div>
						<div class="icon-container mt-2 d-flex justify-content-center mb-2">
							<h6 style="color: rgb(63 76 131)">Enjoy access to <strong>UNIPREP</strong> V 1.0</h6>
						</div>
						<div class="d-flex justify-content-center">
							<button [disabled]="formvisbility && mobileForm.invalid"
								class="btn btn-primary btn-rounded me-2 ms-0 my-0" (click)="onClickSubscribedUser()"
								alt="chat with notification">
								<span class="text-small fw-normal px-3">Subscribe Now</span>
							</button>
							<button [disabled]="formvisbility && mobileForm.invalid"
								class="btn btn-secondary btn-rounded me-2 ms-0 my-0" alt="reports">
								<span class="text-small fw-normal px-2" (click)="continueTrial()">Continue Trial</span>
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</p-dialog>
<div [ngStyle]="{ display: demoTrial ? 'block' : 'none' }" class="modal modal-bg firsttimeloginpopup" role="dialog"
	tabindex="-1">
	<div class="modal-dialog modal-dialog-scrollable modal-dialog-centered" role="document">
		<div class="modal-content card bg-light">
			<div class="modal-body card-body">
				<div class="container">
					<div class="row mb-2">
						<div class="col-md-12 px-4">
							<div class="d-flex flex-column">
								<div class="icon-container d-flex justify-content-center p-2">
									<img src="../../../uniprep-assets/images/TrialStart.png" alt="clock" width="100" />
								</div>
								<div class="mt-1 mb-1">
									<span>
										<strong class="firsttimelogin">
											<h5 style="color: rgb(63 76 131)">Congratulations</h5>
										</strong>
									</span>
								</div>
								<div class="mt-1">
									<span>
										<strong class="firsttimelogin">
											<h2 style="color: #f0780e; margin-bottom: 0">You have unlocked</h2>
										</strong>
										<strong class="firsttimelogin">
											<h2 style="color: #f0780e; margin-top: 0">{{ demoDays }} Days Free Demo.
											</h2>
										</strong>
									</span>
								</div>
								<div class="d-flex justify-content-center">
									<button pButton [disabled]="formvisbility && mobileForm.invalid"
										class="btn btn-primary btn-rounded me-2 ms-0 my-0"
										(click)="onClickSubscribedUser()" alt="chat with notification">
										<span class="text-small fw-normal px-3">Subscribe Now</span>
									</button>
									<button pButton [disabled]="formvisbility && mobileForm.invalid"
										class="btn btn-secondary btn-rounded me-2 ms-0 my-0" alt="reports">
										<span class="text-small fw-normal px-2" (click)="continueTrial()">Continue Demo
											Trial</span>
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- whitlabel subscription pop-up -->
<div [ngStyle]="{ display: visibleExhastedUser ? 'block' : 'none' }" class="modal modal-bg subscriptionExhausted"
	role="dialog" tabindex="-1">
	<div class="modal-dialog modal-dialog-scrollable modal-dialog-centered" role="document">
		<div class="modal-content card bg-light">
			<div class="text-right-close">
				<a (click)="closeQuiz()" class="close" role="button">
					<span aria-hidden="true"><i class="fa fa-times" aria-hidden="true"></i></span>
				</a>
			</div>
			<div class="modal-body card-body">
				<div class="container">
					<div class="row mb-2">
						<div class="col-md-12 px-4">
							<div class="d-flex flex-column">
								<div class="icon-container mb-3 mt-3">
									<img src="../../../uniprep-assets/images/TrialExpire.png" alt="clock" width="100" />
								</div>
								<div class="icon-container mt-1 d-flex justify-content-center mb-1">
									<h6 style="color: rgb(63 76 131)">Please contact {{ orgnamewhitlabel }} Company for
										access</h6>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<p-popover #np [style]="{ width: '350px' }">
	<div class="container notification-container mt-2">
		<div class="notifications-header">
			<h2 class="text-bold">Notifications (2)</h2>
			<div>
				<a href="#">Mark all as read</a>
			</div>
		</div>
		<div class="text-end">
			<i class="pi pi-cog"></i>
		</div>
		<!-- PrimeNG TabView for Tab Control -->
		<div class="card-body">
			<p-tabView>
				<!-- Overall Tab -->
				<p-tabPanel header="Overall">
					<div class="list-group">
						<div class="list-group-item d-flex justify-content-between align-items-center">
							<i class="pi pi-lock"></i>
							<div>
								<h5>Your Password has been successfully changed.</h5>
								<small>June 21, 2023 at 03:13 PM</small>
							</div>
						</div>

						<div class="list-group-item isread d-flex justify-content-between align-items-center">
							<i class="fa-regular fa-crown"></i>
							<div>
								<h5>Your Subscription has been successfully renewed.</h5>
								<small>June 21, 2023 at 03:13 PM</small>
							</div>
						</div>

						<div class="list-group-item d-flex align-items-center">
							<i class="deafult-icon fa-solid fa-check"></i>
							<div>
								<h5>You have 1 chat credit remaining</h5>
								<div><button pButton class="btn btn-primary btn-sm">Use Now</button></div>
								<small>June 20, 2023 at 03:13 PM</small>
							</div>
						</div>
						<div class="list-group-item d-flex align-items-center">
							<i class="deafult-icon fa-solid fa-check"></i>
							<div>
								<h5>You have completed the Pre-Application Quiz Successfully.</h5>
								<small>June 20, 2023 at 03:13 PM</small>
							</div>
						</div>
					</div>
				</p-tabPanel>

				<!-- Archive Tab -->
				<p-tabPanel header="Archive">
					<div class="text-center py-4">
						<p>No archived notifications available.</p>
					</div>
				</p-tabPanel>

				<!-- Orders Tab -->
				<p-tabPanel header="Orders">
					<div class="text-center py-4">
						<p>No order-related notifications available.</p>
					</div>
				</p-tabPanel>
			</p-tabView>
		</div>
		<div class="card-footer">
			<div class="view-all">
				<a href="#">View All Notifications</a>
			</div>
		</div>
	</div>
</p-popover>

<!-- Assessment Popups -->
<p-dialog [(visible)]="isUpgradePlanVisible" [closable]="false" [modal]="true" [draggable]="false" [resizable]="false"
	styleClass="assessment-popup upgrade-plan position-relative">
	<div class="popup-close" (click)="isUpgradePlanVisible = !isUpgradePlanVisible">
		<i style="color: #fff" class="fa fa-close"></i>
	</div>
	<div class="d-flex align-items-center text-center flex-column gap-3 px-5 py-4">
		<div class="icon-container">
			<img src="uniprep-assets/assessment/alarm.svg" alt="Alert image" height="100%" />
		</div>
		<h3 class="mb-0 fw-600">Upgrade Required!</h3>
		<div>
			Switch to the Career or Enterpreneur plan <br />
			to start the challenge.
		</div>
		<button pButton class="btn btn-secondary btn-rounded" (click)="onSubscribe()">
			<span class="text-small fw-normal px-3">Subscribe</span>
		</button>
	</div>
</p-dialog>

<p-dialog [(visible)]="isILeanrParticipantsVisible" [closable]="false" [modal]="true" [draggable]="false"
	[resizable]="false" styleClass="assessment-popup position-relative">
	<div class="popup-close" (click)="isILeanrParticipantsVisible = !isILeanrParticipantsVisible">
		<i style="color: #fff" class="fa fa-close"></i>
	</div>
	<div class="d-flex align-items-center text-center flex-column gap-3 px-5 py-4">
		<div class="icon-container" style="height: 100px">
			<img src="uniprep-assets/assessment/waiting-room.svg" alt="Waiting room image" height="100%" />
		</div>
		<h3 class="mb-0 fw-600">Welcome to iLearn Challenge!</h3>
		<div>
			<p>Awaiting participants...</p>
			<p>Your challenge being soon.</p>
		</div>
		<button pButton class="btn btn-outline-secondary btn-rounded"
			(click)="isILeanrParticipantsVisible = !isILeanrParticipantsVisible">
			<span class="text-small fw-normal px-3">{{ assParticipations }}/100 Participants</span>
		</button>
	</div>
</p-dialog>

<p-dialog [(visible)]="isILearnLiveVisible" [closable]="false" [modal]="true" [draggable]="false" [resizable]="false"
	styleClass="assessment-popup position-relative">
	<div class="popup-close" (click)="isILearnLiveVisible = !isILearnLiveVisible">
		<i style="color: #fff" class="fa fa-close"></i>
	</div>
	<div class="d-flex align-items-center text-center flex-column gap-3 px-5 py-4">
		<div class="icon-container">
			<img src="uniprep-assets/assessment/results.svg" alt="Assessment live image" height="100%" />
		</div>
		<h3 class="mb-0 fw-600">The iLearn Challenge is Live!</h3>
		<div>Complete the challenge fisrt and claim your iPad.</div>
		<button pButton class="btn btn-secondary btn-rounded d-flex" (click)="onClickiLearnChallenge()">
			<span class="text-small fw-normal px-3">iLearn Challenge</span>
		</button>
	</div>
</p-dialog>

<p-dialog [(visible)]="isILearnCompletedVisible" [closable]="false" [modal]="true" [draggable]="false"
	[resizable]="false" styleClass="assessment-popup position-relative">
	<div class="popup-close" (click)="isILearnCompletedVisible = !isILearnCompletedVisible">
		<i style="color: #fff" class="fa fa-close"></i>
	</div>
	<div class="d-flex align-items-center text-center flex-column gap-3 px-5 py-4">
		<div class="icon-container">
			<img src="uniprep-assets/assessment/winner.svg" alt="Assessment Winner image" height="100%" />
		</div>
		<h3 class="mb-0 fw-600">iLearn Challenge Completed!</h3>
		<div>Congratulations to the winner. ABC Person!</div>
		<button pButton class="btn btn-secondary btn-rounded d-flex" (click)="onClickiLearnChallenge()">
			<span class="text-small fw-normal px-3">iLearn Challenge</span>
		</button>
	</div>
</p-dialog>