<nav>
    <div class="left-panel d-flex align-items-center">
        <div class="menutoggle me-3">
            <button class="btn m-0 align-items-center d-flex" (click)="toggleMenu()">
                <i class="fa-solid" [ngClass]="isMenuOpen ? 'fa-angles-left' : 'fa-angles-right'"></i>
            </button>
        </div>
        <div class="d-flex me-3">
            <label class="me-2">
                <i class="fa-solid fa-sun"></i>
            </label>
            <div class="form-check form-switch">
                <input type="checkbox" role="button" id="darkmodeswitch" class="form-check-input">
            </div>
            <label class="ms-1">
                <i class="fa-solid fa-moon"></i>
            </label>
        </div>
    </div>
    <div class="right-panel">
        <span class="subscribe_button d-flex align-items-center justify-content-center" role="button">
            <h5 class="mb-0">Time Left</h5>
            <!-- <img src="../../../../uniprep-assets/icons/hourglass.svg"> -->
            <i class="px-3 fa-solid fa-hourglass-end h3 mb-0"></i>
            <countdown #cd (event)="handleEvent($event)" *ngIf="config" [config]="config" class="custom-style">
            </countdown>
        </span>
        <button class="btn btn-primary mx-2" alt="chat with notification">Subscribe Now</button>
        <button class="btn btn-secondary subscribe_button mx-2 me-4" (click)="openReportModal(op, $event)" alt="reports"
                alt="chat with notification"><i class="fa-solid fa-files"></i> Report
        </button>
        <p-overlayPanel #op>
            <ng-template pTemplate="content">
                <div class="container px-0">
                    <form [formGroup]="reportSubmitForm" (ngSubmit)="onSubmit()">
                        <div class="row report">
                            <p class="report-label text-left mb-0">Modules</p>
                            <span class="report-modal">
                            <p-dropdown [options]="moduleList" (onChange)="onChangeModuleList($event.value.id)"
                                        formControlName="moduleId" dataKey="id" [(ngModel)]="moduleNgModel"
                                        class="w-100" id="moduleId" optionLabel="module_name"></p-dropdown>
                        </span>
                            <p class="report-label text-left mb-0">Categories</p>
                            <span class="report-modal">
                            <p-dropdown [options]="subModuleList" dataKey="id"
                                        [(ngModel)]="subModuleNgModel"
                                        formControlName="submoduleId"
                                        (onChange)="onChangeSubModuleList($event.value.id)"
                                        class="w-100" id="submoduleId" optionLabel="submodule_name"></p-dropdown>
                        </span>
                            <p class="report-label text-left mb-0">Question Number</p>
                            <span class="report-modal">
                            <p-dropdown [options]="questionList" dataKey="id" [(ngModel)]="questionIdNgModel"
                                        formControlName="questionId" (onChange)="onChangeQuestionIdList($event)"
                                        class="w-100" id="questionId" optionLabel="id"></p-dropdown>
                        </span>
                            <p class="report-label text-left mb-0">Issue Type</p>
                            <span class="report-modal">
                            <p-dropdown [options]="reportOptionList" dataKey="id" [(ngModel)]="reportOptionNgModel"
                                        formControlName="reportOption" (onChange)="onChangeIssueTypeList($event)"
                                        class="w-100" id="reportOption" optionLabel="reportoption_name"></p-dropdown>
                        </span>
                            <p class="report-labeltext-left mb-0">Add Command</p>
                            <span class="report-modal">
                            <textarea formControlName="comment" pInputTextarea id="comment"></textarea>
                        </span>
                            <span>
                            <button class="btn btn-primary w-100 m-0">
                                Submit
                            </button>
                        </span>

                        </div>
                    </form>
                </div>
            </ng-template>
        </p-overlayPanel>
        <!--        <p-button (click)="op.toggle($event)" icon="pi pi-image" label="Show"></p-button>-->
        <!-- <p-avatar (click)="togleSidebar.emit()" class="" label="" role="button">
            <i class="fa-solid fa-coins"></i>
        </p-avatar> -->
        <p-avatar (click)="togleSidebar.emit()" (click)="openModal($event)" class="" label="" role="button">
            <i class="fa-solid fa-comments"></i>
        </p-avatar>
        <p-avatar (click)="togleSidebar.emit()" class="" label="" role="button">
            <i class="fa-solid fa-bell"></i>
        </p-avatar>
        <!--        <p-avatar (click)="togleSidebar.emit()" label="{{firstChar}}"></p-avatar>-->
        <!--        <span>{{userName}}</span>-->
        <!--        <div class="dropdown">-->
        <!--            <i class="pi pi-angle-down text-primary dropbtn"></i>-->
        <!--            <div class="dropdown-content" style="right: 0; left: auto;">-->
        <!--                <a (click)="logout()">Logout</a>-->
        <!--            </div>-->
        <!--        </div>-->
        <div class="dropdown profile-dropdown">
            <button class="button" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span class="nme">{{(firstChar || '')?.charAt(0)}}</span> {{userName}}
            </button>
            <ul class="dropdown-menu">
                <li>
                    <a class="dropdown-item pt-2 pb-2" routerLink="/usermanagement">
                        <div class="d-flex justify-content-top">
                            <i class="fa-solid fa-user me-2 mt-1"></i>
                            <div>
                                <p class="fw-semibold mb-1">{{userName}}</p>
                                <p class="mb-0">{{userName}}</p>
                            </div>
                        </div>
                    </a>
                </li>
                <li><a class="dropdown-item pt-2 pb-2" (click)="logout()"><i class="fa-solid fa-power-off me-2"></i>Logout</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<p-dialog [(visible)]="visible" [closable]="true" [style]="{ width: 'auto' }" class="p-0 m-0 bg-white"
          class="timerpopup"
          [modal]="true" [draggable]="false" [resizable]="false">
    <div class="px-5 pb-5 pt-3">
        <div class="justify-content-center text-center pb-5 px-2">
            <h5 class="text-center mb-2">Your 1 Hour Free Trial has<br>Exhausted</h5>
            <div><img src="../../../uniprep-assets/images/icons/timerstart.png" width="auto"></div>
            <button class="btn btn-primary text-white">Subscribe Now</button>
        </div>
    </div>
</p-dialog>

<p-dialog class="thankyoupopup" [modal]="true" header="Header" [(visible)]="showReportSuccess"
          [breakpoints]="{ '960px': '75vw' }"
          [style]="{ width: 'auto' }" [draggable]="false" [resizable]="false">
    <ng-template pTemplate="header">
        <span class="text-xl font-bold"></span>
    </ng-template>
    <div class="px-3 pb-3 pt-2">
        <div class="justify-content-center text-center">
            <h4 class="text-center mb-2">We have noted your feedback.<br>Our team will get back to you shortly.</h4>
            <h3 class="text-center mb-2 text-green">Thank You</h3>
            <img class="pb-5" src="../../../uniprep-assets/images/icons/thumbsup.webp" width="auto" alt="thumbs up">
        </div>
    </div>
    <!-- <img src="../../../uniprep-assets/images/icons/report_popup.png"/> -->
</p-dialog>

<p-dialog [(visible)]="isShowFreeTrailStart" [closable]="false" [style]="{ width: 'auto' }" class="p-0 m-0 bg-white"
          class="timerpopup"
          [modal]="true" [draggable]="false" [resizable]="false">
    <div class="px-5 pb-5 pt-3">
        <div class="justify-content-center text-center pb-5 px-5">
            <h5 class="text-center mb-2">Your 1 hour free trail<br>Starts Now!</h5>
            <div><img src="../../../uniprep-assets/images/icons/timerstart.png" width="auto"></div>
            <p class="text-center text-small mb-2 mt-2">Explore all modules on UNIPERP<br>and get a certificate.</p>
            <button class="btn btn-primary btn-rounded btn-lg text-white" (click)="exploreNow()">Continue</button>
        </div>
    </div>
</p-dialog>

<!-- <p-dialog class="thankyoupopup" [modal]="true" header="Header" [(visible)]="isShowFreeTrailStart" [closable]="false"
          [breakpoints]="{ '960px': '75vw' }"
          [style]="{ width: '30vw' }" [draggable]="false" [resizable]="false">
    <ng-template pTemplate="header">
        <span class="text-xl font-bold"></span>
    </ng-template>
    <div class="px-3 pb-3 pt-2">
        <div class="justify-content-center text-center">
            <h4>Your 1 hour free trail Starts Now!</h4>
            <img class="pb-5 pt-2" src="../../../../uniprep-assets/images/icons/clock_icon.png" width="auto" alt="thumbs up">
            <p class="text-center mb-2 mt-2">Explore all moduleon UNIPERP and get a certificate.</p>
            <button  class="btn btn-primary text-white">Continue</button>
        </div>
    </div>
 <img src="../../../uniprep-assets/images/icons/clock_card.png"/>
</p-dialog> -->