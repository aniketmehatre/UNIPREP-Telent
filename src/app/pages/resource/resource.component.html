<div class="card readingcard">
  <div class="card-body pt-0">
    <div class="row justify-content-center">
      <div class="col-md-2 text-start">
      </div>
      <div class="col-md-8 text-center">
        <h5 class="select-title mb-1" tooltipPosition="top"
          pTooltip="Within this section, you have all the necessary components to craft a solid portfolio.">
          RESOURCES<i class="questiontooltip fa-solid fa-circle-question"></i></h5>
      </div>
      <div class="col-md-2">
      </div>
    </div>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-3 text-md-start">
          <span (click)="filterPopUp()"><button class="btn btn-outline-light px-4 py-3" type="button">Filter
              by</button></span>
        </div>
      </div>
      <div class="row">
        <div *ngFor="let resource of resourceslist" class="col-md-3 col-12 mt-3 ">
          <div class="card justify-content-center card-style text-black p-2 h-100" (click)="canSeeResources()">
            <div id="resourceLink"><a href="{{resource.link}}" class="text-dark text-start" target="_blank">
                <div class="d-flex gap-3 align-items-center">
                  <div class="resourceimg"><img src="{{resource.coverimage}}" alt=""></div>
                  <div>
                    <h5 title="{{resource.title}}">{{resource.title}}</h5>
                    <p style="overflow-wrap: anywhere" class="small mb-0" tooltipPosition="top"
                      pTooltip="{{resource.resourcedescription}}" tooltipStyleClass="tooltip">
                      {{resource.resourcedescription.length > 75 ? resource.resourcedescription.slice(0, 75) + '...' :
                      resource.resourcedescription}}
                    </p>
                    <div>
                      <span *ngFor="let flag of resource.countryFlag.split(',')" class="resourceimg mt-4 ms-2 me-2"
                        style="cursor: pointer;">
                        <img [src]="flag" loading="lazy" [style.width.px]="20" tooltipPosition="top"
                          pTooltip="{{ getCountryName(flag) }}">
                      </span>
                    </div>
                  </div>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- <div *ngIf="planExpired" class="resources-expired">
      <div class="row">
        <div class="col-md-2 text-start"></div>
        <div class="col-md-8 text-center">
          <h5 class="select-title mb-1" tooltipPosition="top" pTooltip="">
            RESOURCES
          </h5>
    
        </div>
        <div class="col-md-2"></div>
      </div>
      <div class="text-center mt-5 mb-4">
        <img src="../../../uniprep-assets/images/smartloack.png" class="image" width="80">
        <h3>Upgrade now to access invaluable tools</h3>
        <p><br> Upgrade your plan now to gain instant
          access.</p>
        <p class="offer">Resources offer:<br>100+ tools like CV builder, LinkedIn profile samples, global job search tools and many more to kickstart your global journey</p>
        <button pButton type="button"
          class=" text-white p-ripple p-button-rounded p-button-warning p-button p-component p-2"
          (click)="upgradePlan()">Upgrade Plan<i class="fa fa-arrow-right exhausted-plan-icon"></i></button>
      </div>
    </div> -->
    <p-dialog [(visible)]="restrict" [style]="{ width: '30vw'}" [draggable]="false" [resizable]="false"
      class="restrictionDialog" [breakpoints]="{ '960px': '30vw','959px': '60vw','425px': '90vw'}"
      (onHide)="clearRestriction()">
      <div class="text-center mt-5 mb-4">
        <img src="../../../uniprep-assets/images/smartloack.png" class="image" width="60" />
        <h3 class="offer">Upgrade Required</h3>
        <p>
          To access this exclusive module,please upgrade your plan now
        </p>
        <button pButton type="button"
          class="text-white p-ripple p-button-rounded p-button-warning p-button p-component p-2"
          (click)="upgradePlan()">
          Upgrade Plan<i class="fa fa-arrow-right exhausted-plan-icon"></i>
        </button>
      </div>
    </p-dialog>
  </div>
</div>

<!-- filter pop-up -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{ display: newfile }">
  <div class="modal-dialog" role="document">
    <form role="form" [formGroup]="filterform" (ngSubmit)="filtersubmit()">
      <div class="modal-content" style="margin-top: 50% !important">
        <div class="modal-header flex justify-content-between">
          <h4 class="modal-title">Filter Resources</h4>
          <span style="cursor: pointer"><i (click)="closenewfilePopup()"
              class="fa-solid fa-circle-xmark fa-2x"></i></span>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-12">
              <div class="form-group">

                <label style="font-size: medium">Filter by Country</label>
                <!-- <p-dropdown class="mt-2" placeholder="Select" formControlName="coutryname" [options]="countries"
                  optionValue="id" optionLabel="country" styleClass="w-full" [filter]="true"></p-dropdown> -->
                <p-multiSelect class="custom-multiselect" placeholder="Select" formControlName="coutryname"
                  optionValue="id" placeholder="Select" optionLabel="country" styleClass="w-full" [options]="countries"
                  [filter]="true" (onChange)="onLocationSelect($event)"></p-multiSelect>

              </div>
            </div>
          </div>
          <span style="float: right">
            <button type="submit" class="btn btn-dark" style="background-color: var(--uniprep-primary) !important">Apply
              Filter</button>
          </span>

        </div>
      </div>
    </form>
  </div>
</div>