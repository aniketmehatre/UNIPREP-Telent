<div class="card readingcard">
	<div class="card-body pt-0">
		<div class="row justify-content-center" *ngIf="!restrict">
			<div class="col-md-3 text-start">
				<div class="p-input-icon-left w-100 mt-3">
					<i class="pi pi-search"></i>
					<input class="w-100 px-5 py-2" type="text" placeholder="Search in Scholarship List" pInputText [(ngModel)]="searchScholarshpName" (input)="performSearch()" />
				</div>
			</div>
			<div class="col-md-6 text-center">
				<h5 class="select-title mb-1" tooltipPosition="top" pTooltip="">SCHOLARSHIP LIST</h5>
			</div>
			<div class="col-md-3 text-end">
				<span class="d-flex justify-content-end mt-3 gap-2">
					<button class="btn btn-primary text-small" (click)="viewFavourites()" type="button">View Favourites</button>
					<button class="btn btn-primary text-small scholarship-guidlines" (click)="scholarGuidlines()" type="button">Scholarship Guidelines</button>
					<button class="btn btn-primary text-small ps-3 pe-3 pt-2 pb-2 br-8" (click)="filterBy()" type="button">Filter by</button>
				</span>
				<div class="d-flex w-100 align-items-center justify-content-end">
					<div class="pe-2">
						<span class="text-muted text-small"
							><strong>Total Scholarship : {{ totalScholarShipCount }}</strong></span
						>
					</div>
				</div>
			</div>
		</div>
		<div class="container-fluid" *ngIf="!restrict">
			<div class="row">
				<div *ngFor="let scholarshipData of scholarshipData" class="col-md-3 col-12 mt-3">
					<div class="card scholarshiplistcard h-100">
						<div class="card-body d-flex flex-column justify-content-between">
							<div class="d-flex justify-content-between align-items-start">
								<h5 class="uniprep-primary" title="Scholarship Name">
									<a class="uniprep-primary text-decoration-none" target="_blank" href="{{ scholarshipData.website }}">{{ scholarshipData.name }} <i class="fa-solid fa-link uniprep-primary pr-2" aria-hidden="true"></i></a>
								</h5>
								<i  [class]="scholarshipData.favourite==1?'fa-solid fa-bookmark':'fa-regular fa-bookmark'" style="color: #E90707;" (click)="bookmarkQuestion(scholarshipData.id,scholarshipData.favourite)"></i>
							</div>
							
							<div>
								<div class="d-flex mt-2 gap-5 align-items-center">
									<div class="d-flex gap-2 align-items-center" title="Scholarship Value">
										<i class="fa-solid fa-coin coinicon" aria-hidden="true"></i>
										<h5 class="mb-0">{{ scholarshipData.value }}</h5>
									</div>
									<div class="d-flex gap-2 align-items-center d-none" title="Scholarship Fund Type">
										<i class="fa-solid fa-dollar-sign fundicon" aria-hidden="true"></i>
										<p class="text-small mb-0">{{ scholarshipData.cover_name }}</p>
									</div>
								</div>
								<div class="d-flex mt-2">
									<div class="d-flex gap-2 align-items-center" title="Scholarship Institute">
										<i class="fa-solid fa-building-columns universityicon" aria-hidden="true"></i>
										<p class="text-small mb-0">{{ scholarshipData.university }}</p>
									</div>
								</div>
								<div class="d-flex mt-2 gap-5 align-items-center">
									<div class="d-flex gap-5">
										<div class="d-flex gap-2 align-items-center" title="Study Level">
											<i class="fa-solid fa-graduation-cap studyicon" aria-hidden="true"></i>
											<p class="text-small mb-0">{{ scholarshipData.study_level }}</p>
										</div>
										<div class="d-flex gap-2 align-items-center" title="Scholarship Type">
											<i class="fa-solid fa-diploma scholarshiptypeicon" aria-hidden="true"></i>
											<p class="text-small mb-0">{{ scholarshipData.type }}</p>
										</div>
									</div>
								</div>
								<div class="d-flex mt-2 gap-3 align-items-center">
									<div class="d-flex gap-2 align-items-center" title="Scholarship Country">
										<i class="fa-solid fa-earth-americas countryicon" aria-hidden="true"></i>
										<p class="text-small mb-0">{{ scholarshipData.country }}</p>
									</div>
									<div class="d-flex gap-2 align-items-center" title="Scholarship Home Country">
										<i class="fa-solid fa-house homecountryicon" aria-hidden="true"></i>
										<p class="text-small mb-0">{{ scholarshipData.home_country }}</p>
									</div>
									<div class="d-flex gap-2 align-items-center" *ngIf="scholarshipData.region" title="Scholarship Region">
										<i class="fa-solid fa-location-dot locationicon" aria-hidden="true"></i>
										<p class="text-small mb-0">{{ scholarshipData.region }}</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div *ngIf="totalScholarShipCount == 0" class="text-center margin-auto">
				<h3>No Results Found</h3>
				<p>
					The applied filter did not provide any results,<br />
					please try again by changing the parameters.
				</p>
			</div>
			<p-paginator *ngIf="totalScholarShipCount != 0" [rows]="pageSize" [totalRecords]="totalScholarShipCount" (onPageChange)="pageChange($event)" [rowsPerPageOptions]="[25, 50, 100, 300, 500, 1000]"></p-paginator>
		</div>
		<!--		<div *ngIf="restrict" class="resources-expired">-->
		<!--			<div class="row">-->
		<!--				<div class="col-md-2 text-start"></div>-->
		<!--				<div class="col-md-8 text-center">-->
		<!--					<h5 class="select-title mb-1" tooltipPosition="top" pTooltip="">SCHOLARSHIP LIST</h5>-->
		<!--				</div>-->
		<!--				<div class="col-md-2"></div>-->
		<!--			</div>-->
		<!--			<div class="text-center mt-5 mb-4">-->
		<!--				<img src="../../../uniprep-assets/images/smartloack.png" class="image" width="80" />-->
		<!--				<h3>Upgrade now to access invaluable tools</h3>-->
		<!--				<p>-->
		<!--					Unlock the power of success with our exclusive Scholarship list! <br />-->
		<!--					Upgrade your plan now to gain instant access.-->
		<!--				</p>-->
		<!--				<p class="offer">Scholarship list offers:<br />5000+ regional, national, international, university and fully funded scholarships to ease your financial burden</p>-->
		<!--				<button pButton type="button" class="text-white p-ripple p-button-rounded p-button-warning p-button p-component p-2" (click)="upgradePlan()">Upgrade Plan<i class="fa fa-arrow-right exhausted-plan-icon"></i></button>-->
		<!--			</div>-->
		<!--		</div>-->
	</div>
</div>

<p-dialog [(visible)]="restrict" [style]="{ width: '30vw' }" [draggable]="false" [resizable]="false" class="restrictionDialog" [breakpoints]="{ '960px': '30vw', '959px': '60vw', '425px': '90vw' }" (onHide)="clearRestriction()">
	<div class="text-center mt-5 mb-4">
		<img src="../../../uniprep-assets/images/smartloack.png" class="image" width="60" />
		<h3 class="offer">Upgrade Required</h3>
		<p>To access this exclusive module,please upgrade your plan now</p>
		<button pButton type="button" class="text-white p-ripple p-button-rounded p-button-warning p-button p-component p-2" (click)="upgradePlan()">Upgrade Plan<i class="fa fa-arrow-right exhausted-plan-icon"></i></button>
	</div>
</p-dialog>
<p-dialog header="Filter Scholarship" [(visible)]="isFilterVisible" [breakpoints]="{ '2560px': '80vw', '1030px': '90vw', '850px': '85vw', '450px': '90vw' }" [draggable]="false" [resizable]="false" class="filterDialog">
	<form role="form" [formGroup]="filterForm" (ngSubmit)="applyFilter()" [style]="{ padding: '20px' }">
		<div class="row">
			<div class="col-md-12">
				<div class="row align-items-center">
					<div class="col-md-4">
						<label class="form-label" style="font-size: medium; font-weight: 500">Filter by Scholarship Country</label>
						<div class="form-group">
							<div class="mb-3">
								<p-dropdown formControlName="country" optionValue="id" optionLabel="country" styleClass="w-100" [options]="countryList" [filter]="true" filterBy="country" (onChange)="countryChange($event)" placeholder="Select  Country" class="filterInput"></p-dropdown>
							</div>
						</div>
					</div>
					<div class="col-md-4">
						<label class="form-label" style="font-size: medium; font-weight: 500">Filter by Home Country</label>
						<div class="form-group">
							<div class="mb-3">
								<p-dropdown formControlName="home_country" optionValue="id" optionLabel="country" styleClass="w-100" [options]="homeCountryList" [filter]="true" filterBy="country" placeholder="Select  Home Country" class="filterInput"></p-dropdown>
							</div>
						</div>
					</div>
					<div class="col-md-4">
						<label class="form-label" style="font-size: medium; font-weight: 500">Filter by Scholarship Type</label>
						<div class="form-group">
							<div class="mb-3">
								<p-dropdown formControlName="type" optionValue="id" optionLabel="type" styleClass="w-100" [options]="scholarshipTypeList" [filter]="true" filterBy="type" placeholder="Select  Scholarship Type" class="filterInput"></p-dropdown>
							</div>
						</div>
					</div>
					<br />
					<div class="col-md-4">
						<label class="form-label" style="font-size: medium; font-weight: 500">Filter by Study Level</label>
						<div class="form-group">
							<div class="mb-3">
								<p-multiSelect [options]="studyLevelList" styleClass="w-100" formControlName="study_level" optionValue="id" placeholder="Select Study Level" optionLabel="level" #StudylevelSelect class="filterInput" [appendTo]="'body'"> </p-multiSelect>
							</div>
						</div>
					</div>
					<div class="col-md-4">
						<label class="form-label" style="font-size: medium; font-weight: 500">Filter by organizations/Institute</label>
						<div class="form-group">
							<div class="mb-3">
								<p-multiSelect [options]="filterUniversityList" styleClass="w-100" formControlName="university" optionValue="id" placeholder="Select Organisation Or University" optionLabel="name" class="filterInput" [appendTo]="'body'"> </p-multiSelect>
							</div>
						</div>
					</div>
					<div class="col-md-4">
						<label class="form-label" style="font-size: medium; font-weight: 500">Filter by Coverage Value</label>
						<div class="form-group">
							<div class="mb-3">
								<p-dropdown formControlName="cover_id" optionValue="id" optionLabel="cover_name" styleClass="w-100" [options]="coverList" [filter]="true" filterBy="cover_name" placeholder="Select  Coverage Value" class="filterInput" [appendTo]="'body'"></p-dropdown>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<br>
		<div class="row gap-3">
			<div class="col-12"><button type="submit" class="btn btn-dark w-100" style="background-color: var(--uniprep-primary) !important">Apply Filter</button></div>
			<div class="col-12">
				<button class="btn btn-danger ps-3 pe-3 pt-2 pb-2 w-100" (click)="clearFilter()" style="border-radius: 8px; color: #fff" type="button">Reset Filter</button>
			</div>
		</div>
	</form>
</p-dialog>

<p-dialog [(visible)]="restrict" [style]="{ width: '30vw' }" [draggable]="false" [resizable]="false" class="restrictionDialog" [breakpoints]="{ '960px': '30vw', '959px': '60vw', '425px': '90vw' }" (onHide)="clearRestriction()">
	<div class="text-center mt-5 mb-4">
		<img src="../../../uniprep-assets/images/smartloack.png" class="image" width="60" />
		<h3 class="offer">Upgrade Required</h3>
		<p>To access this exclusive module,please upgrade your plan now</p>
		<button pButton type="button" class="text-white p-ripple p-button-rounded p-button-warning p-button p-component p-2" (click)="upgradePlan()">Upgrade Plan<i class="fa fa-arrow-right exhausted-plan-icon"></i></button>
	</div>
</p-dialog>
