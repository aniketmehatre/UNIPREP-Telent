<div class="card readingcard">
	<div class="card-header border-0 bg-transparent">
		<div class="row justify-content-center">
			<div class="col-md-12 text-center">
				<h5 class="select-title" tooltipPosition="top" pTooltip="View and download the user guide">USER GUIDE
				</h5>
			</div>
		</div>
	</div>
	<div class="card-body text-center flex-fill overflow-y-auto">
		<div class="row justify-content-center h-100">
			<div class="col-md-12">
				@if (isLoading) {
				<div class="d-flex justify-content-center align-items-center h-100">
					<div class="spinner-border text-primary" role="status">
						<span class="visually-hidden">Loading...</span>
					</div>
				</div>
				}
				@if (!isLoading && !isIos && !pdfLoadError) {
				<div class="d-flex h-100">
					<pdf-viewer [src]="pdfUrl" [rotation]="0" [original-size]="false" [show-all]="true"
						[fit-to-page]="false" [zoom]="1" [zoom-scale]="'page-width'" [stick-to-page]="false"
						[render-text]="true" [external-link-target]="'blank'" [autoresize]="true" [show-borders]="false"
						style="width: 100%; height: 100vh;"></pdf-viewer>
				</div>
				}
				@if (!isLoading && isIos && !pdfLoadError) {
				<div class="d-flex h-100">
					<pdf-viewer [src]="pdfUrl" [rotation]="0" [original-size]="false" [show-all]="true"
						[fit-to-page]="false" [zoom]="1" [zoom-scale]="'page-width'" [stick-to-page]="false"
						[render-text]="true" [external-link-target]="'blank'" [autoresize]="true" [show-borders]="false"
						style="width: 100%; height: 100vh;"></pdf-viewer>
				</div>
				}
				@if (pdfLoadError) {
				<div class="alert alert-danger mt-3">
					<p>Error loading PDF. Please try downloading the file instead.</p>
					<button pButton class="p-button-primary mt-2" (click)="downloadPdf()" icon="pi pi-download"
						label="Download PDF">
					</button>
				</div>
				}
			</div>
		</div>
	</div>
</div>

<p-toast></p-toast>