<div class="card readingcard" style="overflow-y: auto; background-color: white !important">
	<div class="card-body pt-0">
		<div class="row justify-content-center">
			<div class="col-md-2 text-start"></div>
			<div class="col-md-8 text-center">
				<h5 class="select-title mb-1" tooltipPosition="top" pTooltip="Quiz">QUIZ<i class="questiontooltip fa-solid fa-circle-question"></i></h5>
			</div>
			<div class="col-md-2"></div>
			<div class="container-fluid">
				<div class="row mt-5">
					<div class="col-md-6 col-12">
						<div>
							<p-dropdown dropdownAppendTo="body" class="mt-2" (onChange)="CountryListId($event.value)" [(ngModel)]="contrydropdownid" placeholder="Select the country" [options]="countrydropdownlist" optionValue="id" optionLabel="country" styleClass="w-100" [filter]="true">
								<ng-template let-countryOption pTemplate="selectedItem" style="border-radius: 20px !important">
									<div class="d-flex align-items-center">
										<img src="{{ countryOption.flag }}" alt="{{ countryOption.country }}" class="mr-2" style="width: 24px; height: 24px; padding-left: 5px" />
										<span style="padding-left: 10px">{{ countryOption.country }}</span>
									</div>
								</ng-template>
								<ng-template let-countryOption pTemplate="item">
									<div class="d-flex align-items-center">
										<img src="{{ countryOption.flag }}" alt="{{ countryOption.country }}" class="mr-2" style="width: 24px; height: 24px" />
										<span>{{ countryOption.country }}</span>
									</div>
								</ng-template>
							</p-dropdown>
						</div>
						<h5 class="mt-2">Your currently attending Quiz on {{ countryName }}</h5>
						<hr style="height: 3px !important; background-color: black" />
						<div class="mt-2">
							<h6 class="mt-3">Start your quiz on one of our modules</h6>
							<div class="row">
								<div class="col-md-10 col-9 mt-1">
									<p-dropdown dropdownAppendTo="body" class="mt-2" (onChange)="changemodule($event)" [(ngModel)]="moduleid" placeholder="Select your Module" [options]="quizpercentagedata" optionLabel="module_name" styleClass="w-100" [filter]="true"></p-dropdown>
								</div>
								<div class="col-md-2 col-3 mt-1">
									<button [disabled]="readingmodulestartbutton" (click)="startModulule()" type="button" class="w-100 h-100 btn btn-primary btn-rounded text-white">
										<span class="me-1">{{ moduleprogress >= 90 ? "Completed" : "Start" }}</span>
										<span *ngIf="arrow">
											<i class="fas fa-arrow-right"></i>
										</span>
									</button>
								</div>
							</div>
						</div>
						<!-- university -->
						<div class="mt-2">
							<h6>Start your quiz on an university you are interested in.</h6>
							<div class="row">
								<div class="col-md-10 col-9 mt-1">
									<p-dropdown dropdownAppendTo="body" class="mt-2" (onChange)="universityButtonVisible()" [(ngModel)]="universityId" placeholder="Select your university" [options]="filterUniversityList" optionValue="id" optionLabel="submodule_name" styleClass="w-100" [filter]="true"></p-dropdown>
								</div>
								<div class="col-md-2 col-3 mt-1">
									<!-- <button *ngIf="universityquizpercentagecompletion <= 89" [disabled]="universityquizbutton" (click)="startQuizUniversity()" type="button"  class="w-100 h-100 btn btn-primary btn-rounded text-white">
										<span class="me-1">Start</span>
										<span>
											<i class="fas fa-arrow-right"></i>
										</span>
									</button>
									<button *ngIf="universityquizpercentagecompletion >= 90" [disabled]="universityquizpercentagecompletion >= 90" type="button" class="w-100 h-100 btn btn-primary btn-rounded text-white">
										<span>Completed</span>
										<span class="fa-stack"> </span>
									</button> -->
									<button [disabled]="universityquizbutton" (click)="startModulule()" type="button" class="w-100 h-100 btn btn-primary btn-rounded text-white">
										<span class="me-1">{{ universityquizpercentagecompletion >= 90 ? "Completed" : "Start" }}</span>
										<span *ngIf="universityquizpercentagecompletion <= 89">
											<i class="fas fa-arrow-right"></i>
										</span>
									</button>
								</div>
							</div>
						</div>
						<!-- skill mastery -->
						<div class="mt-2">
							<h6>Start your quiz on one of our Skill Mastery.</h6>
							<div class="row">
								<div class="col-md-10 col-9 mt-1">
									<p-dropdown dropdownAppendTo="body" class="mt-2" (onChange)="skillMasteryButtonVisible($event)" [(ngModel)]="skillsmasteryId" placeholder="Select" [options]="skillsmasteryList" optionValue="id" optionLabel="submodule_name" styleClass="w-100" [filter]="true"></p-dropdown>
								</div>
								<div class="col-md-2 col-3 mt-1">
									<!-- <button [disabled]="skillunivertybutton" (click)="startModululeSkillmastery()" type="button" class="w-100 h-100 btn btn-primary btn-rounded text-white">
										<span class="me-1">{{ moduleprogress >= 90 ? "Completed" : "Start" }}</span>
										<span *ngIf="arrow">
											<i class="fas fa-arrow-right"></i>
										</span>
									</button> -->
									<button *ngIf="skillmasteryquizpercentage <= 89" [disabled]="skillunivertybutton" (click)="startModululeSkillmastery()" type="button" class="w-100 h-100 btn btn-primary btn-rounded text-white">
										<span>Start</span>
										<span class="fa-stack">
											<i style="color: white" class="fas fa-arrow-right"></i>
										</span>
									</button>
									<button *ngIf="skillmasteryquizpercentage >= 90" [disabled]="skillmasteryquizpercentage >= 90" type="button" class="w-100 h-100 btn btn-primary btn-rounded text-white">
										<span>Completed</span>
										<span class="fa-stack"> </span>
									</button>
								</div>
							</div>
						</div>
						<hr style="height: 3px !important; background-color: black" />
						<div class="mt-2">
							<h6>Choose a Learning Hub to get certified.Select a path you are intrested in to start the quiz</h6>
							<div class="row">
									<div class="col-md-5 col-4 mt-1">
										<p-dropdown dropdownAppendTo="body" class="mt-2" (onChange)="specializationList()" [(ngModel)]="subjectid" placeholder="Select a subject" [options]="subjectlistdropdown" optionValue="category_id" optionLabel="category" styleClass="w-100" [filter]="true"></p-dropdown>
									</div>
									<div class="col-md-5 col-4 mt-1">
										<p-dropdown dropdownAppendTo="body" class="mt-2" (onChange)="specializationdata()" [(ngModel)]="specializationid" placeholder="Select a specialization" [options]="specializationlist" optionValue="submodule_id" optionLabel="submodule_name" styleClass="w-100" [filter]="true"></p-dropdown>
									</div>
									<div class="col-md-2 col-4 mt-1">
										<button *ngIf="quizpercentage <= 89" [disabled]="learningHubQuiz" (click)="StartLearningHubQuiz()" type="button" class="w-100 h-100 btn btn-primary btn-rounded text-white">
											<span>Start</span>
											<span class="fa-stack">
												<i style="color: white" class="fas fa-arrow-right"></i>
											</span>
										</button>
										<button *ngIf="quizpercentage >= 90" [disabled]="quizpercentage >= 90" type="button" class="w-100 h-100 btn btn-primary btn-rounded text-white">
											<span>Completed</span>
											<span class="fa-stack"> </span>
										</button>
									</div>
							</div>
						</div>
						<div class="mt-2">
							<h6>Choose a Language to get certified.Select a path you are intrested in to start the quiz</h6>
								<div class="row">
									<div class="col-md-5 col-4 mt-1">
										<p-dropdown dropdownAppendTo="body" class="mt-2" (onChange)="languageListId()" [(ngModel)]="laguageid" placeholder="Select the language" [options]="languagedropdownlist" optionValue="id" optionLabel="language" styleClass="w-100" [filter]="true"></p-dropdown>
									</div>
									<div class="col-md-5 col-4 mt-1">
										<p-dropdown dropdownAppendTo="body" class="mt-2" (onChange)="languagrTypeId()" [(ngModel)]="laguagetypeid" placeholder="Select proficiency level" [options]="languagedropdownlisttype" optionValue="id" optionLabel="type" styleClass="w-100" [filter]="true"></p-dropdown>
									</div>
									<div class="col-md-2 col-4 mt-1">
										<button *ngIf="quizlanguguageprogress <= 89" [disabled]="languageHubQuiz" (click)="StartLanguageHubQuiz()" type="button" class="w-100 h-100 btn btn-primary btn-rounded text-white">
											<span>Start</span>
											<span class="fa-stack">
												<i class="fas fa-arrow-right"></i>
											</span>
										</button>
										<button *ngIf="quizlanguguageprogress >= 90" [disabled]="quizpercentage >= 90" type="button" class="w-100 h-100 btn btn-primary btn-rounded text-white">
											<span>Completed</span>
											<span class="fa-stack"> </span>
										</button>
									</div>
								</div>
						</div>
					</div>
					<div class="col-md-1 d-none d-md-flex justify-content-center">
						<div class="vertical-line"></div>
					</div>
					<div class="col-md-5 col-12">
						<p-accordion [multiple]="true" class="plain">
							<div>
								<p-accordionTab header="Completed Module Quiz">
									<div class="row">
										<div class="col-md-4 col-6 mb-2" *ngFor="let list of Modulequizlistcertificate; let i = index">
											<div class="card resourcecard justify-content-center text-black h-100">
												<div class="pe-1 pt-1" style="text-align: end">
													<img width="20" height="20" src="{{ list.country_flag }}" alt="" />
												</div>
												<div class="card-body h-100">
													<div class="" id="resourceLink">
														<div style="text-align: center">
															<div class="resourceimg"><img width="50" height="50" src="{{ list.module_image }}" alt="" /></div>
														</div>
													</div>
													<div style="text-align: center">
														<h6 title="hi">{{ list.module_name }}</h6>
													</div>
													<div class="p-2" id="resourceLink">
														<div style="text-align: center">
															<button type="button" (click)="downloadCertificate(list.certificate_link)" class="w-100 h-100 btn btn-primary btn-rounded text-white text-small text-center ">View Certificates</button>
														</div>
													</div>
												</div>
											</div>
											<!-- </div> -->
										</div>
									</div>
								</p-accordionTab>
								<p-accordionTab header="Completed Quiz On University">
									<div class="row">
										<div class="col-4 mt-1" *ngFor="let list of universityModulescertificate; let i = index">
											<div class="card resourcecard justify-content-center text-black h-100">
												<div class="pe-1 pt-1" style="text-align: end">
													<img width="20" height="20" src="{{ list.country_flag }}" alt="" />
												</div>
												<div class="card-body h-100">
													<div class="" id="resourceLink">
														<div style="text-align: center">
															<div class="resourceimg"><img width="50" height="50" src="{{ list.module_image }}" alt="" /></div>
														</div>
													</div>
													<div style="text-align: center">
														<h6 title="hi">{{ list.module_name }}</h6>
													</div>
													<div class="p-2" id="resourceLink">
														<div style="text-align: center">
															<button type="button" (click)="downloadCertificate(list.certificate_link)" class="w-100 h-100 btn btn-primary btn-rounded text-white text-small text-center ">View Certificates</button>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</p-accordionTab>
								<p-accordionTab header="Completed Quiz On Learning Hub">
									<div class="row">
										<div class="col-4 mt-1" *ngFor="let list of learningHubCirtificates; let i = index">
											<div class="card resourcecard justify-content-center text-black h-100">
												<div class="card-body h-100">
													<div class="" id="resourceLink">
														<div style="text-align: center">
															<div class="resourceimg"><img width="50" height="50" src="{{ list.module_image }}" alt="" /></div>
														</div>
													</div>
													<div style="text-align: center">
														<h6 title="hi">{{ list.module_name }}</h6>
													</div>
													<div class="p-2" id="resourceLink">
														<div style="text-align: center">
															<button type="button" (click)="downloadCertificate(list.certificate_link)" class="w-100 h-100 btn btn-primary btn-rounded text-white text-small text-center ">View Certificates</button>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</p-accordionTab>
								<p-accordionTab header="Completed Quiz On Language Hub">
									<div class="row">
										<div class="col-4 mt-1" *ngFor="let list of languageHubCirtificates; let i = index">
											<div class="card resourcecard justify-content-center text-black h-100">
												<div class="card-body h-100">
													<div class="" id="resourceLink">
														<div style="text-align: center">
															<div class="resourceimg"><img width="50" height="50" src="{{ list.module_image }}" alt="" /></div>
														</div>
													</div>
													<div style="text-align: center">
														<h6 title="hi">{{ list.module_name }}</h6>
													</div>
													<div class="p-2" id="resourceLink">
														<div style="text-align: center">
															<button type="button" (click)="downloadCertificate(list.certificate_link)" class="w-100 h-100 btn btn-primary btn-rounded text-white text-small text-center ">View Certificates</button>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</p-accordionTab>
								<p-accordionTab header="Completed Quiz On Skill Mastery">
									<div class="row">
										<div class="col-4 mt-1" *ngFor="let list of skillMasteryCirtificates; let i = index">
											<div class="card resourcecard justify-content-center text-black h-100">
												<div class="card-body h-100">
													<div class="" id="resourceLink">
														<div style="text-align: center">
															<div class="resourceimg"><img width="50" height="50" src="{{ list.module_image }}" alt="" /></div>
														</div>
													</div>
													<div style="text-align: center">
														<h6 title="hi">{{ list.module_name }}</h6>
													</div>
													<div class="p-2" id="resourceLink">
														<div style="text-align: center">
															<button type="button" (click)="downloadCertificate(list.certificate_link)" class="w-100 h-100 btn btn-primary btn-rounded text-white text-small text-center ">View Certificates</button>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</p-accordionTab>
							</div>
						</p-accordion>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<p-dialog [(visible)]="restrict" [modal]="true" [style]="{ width: '30vw' }" [draggable]="false" [resizable]="false" class="restrictionDialog" [breakpoints]="{ '960px': '30vw', '959px': '60vw', '425px': '90vw' }" (onHide)="clearRestriction()">
	<div class="text-center mt-5 mb-4">
		<img src="../../../uniprep-assets/images/smartloack.png" class="image" width="60" />
		<h3 class="offer">Upgrade Required</h3>
		<p>To access this exclusive module,please upgrade your plan now</p>
		<button pButton type="button" class="text-white p-ripple p-button-rounded p-button-warning p-button p-component p-2" (click)="upgradePlan()">Upgrade Plan<i class="fa fa-arrow-right exhausted-plan-icon"></i></button>
	</div>
</p-dialog>
