<div class="container-fluid mb-4">
    <div class="row">
        <div class="search-dropdown px-0">
            <div class="col-12 md:col-4">
                <div class="p-inputgroup">
                    <div class="search-icon"><i class="fa-solid fa-magnifying-glass"></i></div>
                    <input #searchInput (keyup.enter)="searchKeyWord(searchInput)" [(ngModel)]="searchInputText"
                           (input)="onSearchChange(searchInput.value)" pInputText
                           placeholder="ENTER YOUR KEY WORDS HERE"
                           type="text">
                          
                    <button (click)="searchKeyWord(searchInput)" class="btn-primary" label="Search" pButton pRipple
                            type="button"></button>
                </div>

                <ul *ngIf="isSearchResultFound" class="list-group list-group-flush shadow-lg">
                    <li *ngFor="let c of searchResult" class="list-group-item">
                        <div class="row">
                            <div class="col-md-9"  (click)="gerSelectedQuestion(c)">
                                <span class="pr-4">Q.{{c.id}}) {{c.question}}</span>
                            </div>
                            <div class="col-md-3">
                                <a (click)="redirectModule(c.module_name)">{{c.module_name}}</a> ->
                                <a (click)='redirectToSubmodule(c)'>{{c.submodule_name}}</a>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item text-center"><h5>If you can't find your Question!
                        <span (click)="openChat()" role="button" class="text-primary font-primarycolor">Ask Us</span></h5></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<p-dialog [(visible)]="isQuestionAnswerVisible" [draggable]="false" [modal]="true" [style]="{ width: '80vw' }"
          class="questionmodal" header="Header">
    <ng-template class="p-3" pTemplate="header">
        <h5 class="select-title text-center mb-3">SEARCHED FOR - {{searchInputValue | uppercase}}</h5>
        <span class="text-xl font-bold"></span>
    </ng-template>
    <div class="container-fluid">
        <div class="row mb-3">
            <div class="col-md-12 mb-2">
                <p class="text-center text-muted fw-semibold mb-0">Reference</p>
                <p-breadcrumb [model]="breadCrumb" class="max-w-full"></p-breadcrumb>
            </div>
            <div class="col-md-2">
            </div>
            <div class="col-md-8 d-flex align-items-center justify-content-center text-center">
                <a role="button" (click)="clickPrevious(carousel, $event)"><i
                        class="text-green h4 mx-3 mb-0 fa-solid fa-circle-chevron-left"></i></a>
                <h5 class="mb-0">Question
                    Number {{selectedQuestion + 1}}</h5>
                <a role="button" (click)="clickNext(carousel, $event)"><i
                        class="text-green mx-3 h4 fa-solid mb-0 fa-circle-chevron-right"></i></a>
            </div>
            <div class="col-md-2 gap-2 d-flex">
                <button (click)="goToHome()" class="btn w-100 btn-primary homecardbtn m-0 px-2 py-2">
                    <i class="fa-solid fw-bold h5 fa-house"></i>
                    <p class="mb-0">Home</p>
                </button>
                <button class="btn w-100 btn-primary homecardbtn m-0 px-2 py-2">
                    <i class="fa-solid fw-bold h5 fa-file-contract"></i>
                    <p class="mb-0">Report</p>
                </button>
                <button (click)="openChat()" class="btn w-100 btn-primary homecardbtn m-0 px-2 py-2">
                    <i class="fa-solid fw-bold h5 fa-comment"></i>
                    <p class="mb-0">Chat</p>
                </button>
            </div>
        </div>
        <p-carousel #carousel  [circular]="true" [numScroll]="1" [numVisible]="1"
                    [page]="selectedQuestion" [responsiveOptions]="responsiveOptions" [value]="searchResult"
                    class="answersection">
            <ng-template [ngForOf]="searchResult" let-i="index" let-val ngFor pTemplate="item">
                <div class="row text-center">
                    <div class="col-12">
                        <div class="card answercard">
                            <div class="card-body text-start">
                                <h3>{{val.question}}</h3>
                                <h5 class="fw-medium">{{val.answer}}</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-template>
        </p-carousel>
    </div>
    <ng-template class="p-3" pTemplate="footer">
        <div class="container-fluid">
            <div class="row mt-5 mb-4">
                <div class="col-md-6">
                    <!--<div class="row justify-content-center align-items-center">
                        <div class="col-md-1" *ngIf="videoLinks">
                            <a (click)="clickPreviousVideo($event)" role="button"><i
                                    class="text-green h4 mx-3 mb-0 fa-solid fa-circle-chevron-left"></i></a>
                        </div>
                        <div class="col-md-10">
                            <p-carousel #carouselVideoElm [circular]="false" [showNavigators]="false"
                                        [showIndicators]="false" [numScroll]="1" [numVisible]="3" [circular]="true"
                                        [page]="selectedVideo - 1" [responsiveOptions]="responsiveOptions" [value]="videoLinks"
                                        *ngIf="videoLinks">
                                <ng-template let-item pTemplate="item">
                                    <div class="border-1 surface-border border-round m-2 text-center ">
                                        <div class="mb-1">
                                            <img src="{{item.image}}" role="button"
                                                 (click)="onClickRecommendedVideo(videoLinks)" width="100%"
                                                 [alt]="item.image" class="w-2 shadow-2" />
                                        </div>
                                    </div>
                                </ng-template>
                            </p-carousel>
                        </div>
                        <div class="col-md-1" *ngIf="videoLinks">
                            <a (click)="clickNextVideo($event)" role="button"><i
                                    class="text-green mx-3 h4 fa-solid mb-0 fa-circle-chevron-right"></i></a>
                        </div>
                    </div>-->
                </div>
                <div class="col-md-6">
                    <!--                    <div class="row justify-content-center align-items-center">-->
                    <!--                        <div class="col-md-2" *ngIf="refLink">-->
                    <!--                            <a (click)="clickPreviousRef($event)"><i-->
                    <!--                                    class="text-green h4 mx-3 mb-0 fa-solid fa-circle-chevron-left"></i></a>-->
                    <!--                        </div>-->
                    <!--                        <div class="col-md-8">-->
                    <!--                            <p-carousel #carouselRefElm [circular]="false" [numScroll]="1" [numVisible]="3"-->
                    <!--                                        [page]="selectedRefLink - 1" [circular]="true" [responsiveOptions]="responsiveOptions"-->
                    <!--                                        [value]="refLink" *ngIf="refLink">-->
                    <!--                                <ng-template let-item pTemplate="item">-->
                    <!--                                    <div class="border-1 surface-border border-round m-2 text-center ">-->
                    <!--                                        <div class="mb-1">-->
                    <!--                                            <img src="{{item.image}}" (click)="onClickRecommendedLinks(refLink)"-->
                    <!--                                                 width="100%" [alt]="item.image" class="w-2 shadow-2" />-->
                    <!--                                        </div>-->
                    <!--                                    </div>-->
                    <!--                                </ng-template>-->
                    <!--                            </p-carousel>-->
                    <!--                        </div>-->
                    <!--                        <div class="col-md-2" *ngIf="refLink">-->
                    <!--                            <a (click)="clickNextRef($event)"><i-->
                    <!--                                    class="text-green mx-3 h4 fa-solid mb-0 fa-circle-chevron-right"></i></a>-->
                    <!--                        </div>-->
                    <!--                    </div>-->
                </div>

            </div>
        </div>
    </ng-template>
</p-dialog>
