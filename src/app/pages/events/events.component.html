<div class="container-fluid">
	<div class="row">
		<div class="card readingcard">
			<div class="card-body pt-0">
				<div class="row justify-content-center">
					<div class="col-md-2 text-start"></div>
					<div class="col-md-8 text-center">
						<h5 class="select-title mb-1">EVENTS<i class="questiontooltip fa-solid fa-circle-question"></i></h5>
					</div>
					<div class="col-md-2"></div>
				</div>
                <div class="row justify-content-center">
                    <div class="col-md-3 col-5 text-md-start">
                        <span (click)="filterPopUp()"><button class="btn btn-outline-light px-4 py-3" type="button">Filter by</button></span>
                            <p class="small">Total Events - Total Events - {{ activeButton == 1 ? totalcount : totalcountpost }}</p>
                    </div>
                    <div class="col-md-6 col-7 text-md-center text-end">
                        <button class="btn btn-outline-light px-3 py-3" (click)="setActiveButton(1)" [ngStyle]="button1Style">Upcoming Events</button>
                        <button class="btn btn-outline-light px-3 py-3" (click)="setActiveButton(2)" [ngStyle]="button2Style">Past Events</button>
                    </div>
                    <div class="col-md-3 col-12">
                        <div class="p-input-icon-left w-100 mt-3">
							<i class="pi pi-search"></i>
							<input class="w-100 px-5 py-2" type="text" placeholder="Search Events Near You..." pInputText [(ngModel)]="valueNearYouFilter" (input)="performSearch($event)" />
						</div>
                    </div>
                </div>
			</div>
			<!-- upcomming event -->
			<div class="row mt-3" *ngIf="upcomingevent">
				<div class="col-md-3 col-6" *ngFor="let event of upcommingevent">
					<div class="card eventcard">
						<span class="btn btn-primary eventcountdown">{{ event.daysago }}</span>
						<div class="event-top card-body pb-0">
							<div class="position-relative mt-3">
								<div class="text-center">
									<a class="text-decoration-none" href="{{ event.eventlink }}"><img width="120px" src="{{ event.companylogo }}" alt="" /></a>
								</div>
							</div>
							<div class="mt-3 text-center">
								<div class="eventtime">
									<span><i class="fa-regular fa-clock me-2"></i>{{ event.from }} - {{ event.to }}</span>
									<span class="mx-2">|</span>
									<span><i class="fa-regular fa-calendar me-2"></i>{{ event.date }}</span>
								</div>
							</div>
						</div>
						<div class="event-bottom card-body">
							<h5 class="mb-0">{{ event.eventname }}</h5>
							<p class="small">{{ event.eventdescription }}</p>
							<div class="d-flex gap-2 flex-md-row flex-column">
								<div class="d-flex align-items-center">
									<img class="me-1" style="width: 20px" src="{{ event.countrylog }}" alt="" />
									<p class="small fw-semibold mb-0">{{ event.country }}</p>
								</div>
								<div class="d-flex align-items-center">
									<i class="fa-regular fa-users me-1 small"></i>
									<p class="small fw-semibold mb-0">Registered Members-25</p>
								</div>
							</div>
							<div class="d-flex mt-2 align-items-center">
								<i class="fa-regular fa-microphone-stand me-1 small"></i>
								<p class="mb-0 small fw-semibold">Speaker-{{ event.speakername }}(HR Recruiter)</p>
							</div>
							<div class="mt-2"><button class="btn btn-primary registerbtn w-100 m-0" type="button">Register Now</button></div>
						</div>
					</div>
				</div>
			</div>
			<!-- post event -->
			<div class="row mt-3" *ngIf="postevent">
				<div class="col-md-3 col-6" *ngFor="let event of postevetdetaisl">
					<div class="card eventcard">
						<span class="btn btn-primary eventcomplete">{{ event.date }}</span>
						<div class="event-top card-body pb-0">
							<div class="position-relative mt-3">
								<div class="text-center">
									<a class="text-decoration-none" href="{{ event.eventlink }}"><img width="120px" src="{{ event.companylogo }}" alt="" /></a>
								</div>
							</div>
						</div>
						<div class="event-bottom card-body">
							<h5 class="mb-0">{{ event.eventname }}</h5>
							<p class="small">{{ event.eventdescription }}</p>
							<div class="d-flex gap-2 flex-md-row flex-column">
								<div class="d-flex align-items-center">
									<img class="me-1" style="width: 20px" src="{{ event.countrylog }}" alt="" />
									<p class="small fw-semibold mb-0">{{ event.country }}</p>
								</div>
								<div class="d-flex align-items-center">
									<i class="fa-regular fa-users me-1 small"></i>
									<p class="small fw-semibold mb-0">Registered Members-25</p>
								</div>
							</div>
							<div class="d-flex mt-2 align-items-center">
								<i class="fa-regular fa-microphone-stand me-1 small"></i>
								<p class="mb-0 small fw-semibold">Speaker-{{ event.speakername }}(HR Recruiter)</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- <div class="container-fluid">
                <div class="row">
                  <div *ngFor="let resource of resourceslist" class="col-md-3 col-12 mt-3">
                    <div class="card card-style"><a href={{resource.link}} class="fw-semibold" target="_blank">{{resource.title}}</a></div>
                  </div>
                </div>
              </div> -->
		</div>
		<div class="card-footer" *ngIf="upcomingevent">
			<p-paginator [rows]="10" [totalRecords]="totalcount" (onPageChange)="paginate($event)" [rowsPerPageOptions]="[8, 32, 72, 100]"></p-paginator>
		</div>
		<div class="card-footer" *ngIf="postevent">
			<p-paginator [rows]="10" [totalRecords]="totalcountpost" (onPageChange)="paginatepost($event)" [rowsPerPageOptions]="[8, 32, 72, 100]"></p-paginator>
		</div>
	</div>
</div>

<!-- filter pop-up -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{ display: newfile }">
	<div class="modal-dialog" role="document">
		<form role="form" [formGroup]="filterform" (ngSubmit)="filtersubmit()">
			<div class="modal-content" style="margin-top: 50% !important">
				<div class="modal-header flex justify-content-between">
					<h4 class="modal-title">Filter Events</h4>
					<span style="cursor: pointer"><i (click)="closenewfilePopup()" class="fa-solid fa-circle-xmark fa-2x"></i></span>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-12">
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label class="form-label" style="font-size: medium">Filter by date</label>
										<div class="mb-3">
											<input placeholder="Start date" type="date" formControlName="from" class="form-control border-black paddingfive" />
										</div>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label class="form-label"></label>
										<div class="mb-3 mt-2">
											<input placeholder="End date" type="date" formControlName="to" class="form-control border-black paddingfive" />
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-12">
							<div class="form-group">
								<label style="font-size: medium">Filter by Country</label>
								<p-dropdown class="mt-2" placeholder="Select" formControlName="country" [options]="countries" optionValue="id" optionLabel="country" styleClass="w-full"></p-dropdown>
							</div>
						</div>
					</div>
					<span style="float: right">
						<button type="submit" class="btn btn-dark" style="background-color: var(--uniprep-primary) !important">Apply Filter</button>
					</span>
				</div>
			</div>
		</form>
	</div>
</div>
