<div class="card readingcard" *ngIf="isInstructionVisible">
    <div class="card-body text-center pt-0 h-100">
        <div class="row justify-content-center">
            <div class="col-md-10 col-10 text-center">
                <h5 class="select-title mb-1">
                    <span class="desktop">Quiz Instruction</span>
                </h5>
            </div>
            <div class="col-md-1 col-1">&nbsp;</div>
        </div>
    </div>
</div>
<div class="container-fluid bg-white" *ngIf="isInstructionVisible">
    <div class="row">
        <div class="col-md-12">
            <h6 class="text-muted pb-4">{{ quizData.length }}/{{ quizData.length }} Questions Left</h6>
        </div>
        <div class="col-md-12">
            <ul class="font-secondarycolor fw-medium lh-lg">
                <li>There are {{ quizData.length }} MCQs in the quiz.</li>
                <li>You can not skip any question / All question are mandatory to answer.</li>
                <li>You can not access the other screens while taking the quiz.</li>
                <li>You cannot save and submit later.</li>
                <li>Restart - will display new set of questions.</li>
                <li>You will get a certificate for completing all the quiz modules.</li>
                <li>Buffer? To qualify for the quiz you need to get __% correct.</li>
                <li>There is no time limit.</li>
            </ul>
        </div>
    </div>
</div>

<div class="card readingcard" *ngIf="isStartQuiz">
    <div class="card-body text-center pt-0 h-100">
        <div class="row justify-content-center align-items-center">
            <div class="col-md-10 col-10 text-center">
                <h5 class="select-title mb-1">
                    <span class="desktop">{{ currentModuleName }} Quiz</span>
                </h5>
            </div>
            <div class="col-md-2 col-2 text-end">
                <button (click)="closeQuiz()" class="btn btn-quit btn-rounded m-0 px-2 py-2">
                    <div class="d-flex align-items-center">
                        <span class="fw-normal h6 mb-0 ps-3 pe-2">Quit</span>
                        <div class="btn-icon"><i class="fa-solid fa-power-off"></i></div>
                    </div>
                </button>
            </div>
        </div>
    </div>
</div>


<div class="container-fluid bg-white" *ngIf="isStartQuiz">
    <div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
				<h6 class="text-muted">{{ selectedQuiz }}/{{ quizData.length }} Question Left</h6>
			</div>
		</div>
		<div class="row justify-content-center">
			<div class="col-md-12">
				<p-carousel #carouselQuiz (onPage)="setPage($event)" [circular]="true" [numScroll]="1" [numVisible]="1" [page]="selectedQuiz - 1" [responsiveOptions]="responsiveOptions" [value]="quizData" class="text-center">
					<ng-template [ngForOf]="quizData" let-i="index" let-val ngFor pTemplate="item">
						<div class="row text-center">
							<div class="col-12 mt-3 mb-4">
								<p class="text-start mb-0 fw-medium text-small font-primarycolor">Question Number {{ selectedQuiz }}</p>
								<h4 class="font-secondarycolor text-start pt-2 pb-2 text-capitalize">{{ val.question }}</h4>
								<div class="py-1">
									<input type="radio" value="{{ val.option1 }}" id="{{ val.otp1 }}" class="btn-check" name="options" autocomplete="off" />
									<label (click)="selectAnswer(val.option1, val, 1)" class="{{ 1 === val.user_answered ? 'optionanswered' : 'optionnotanswered' }} text-start quiznotanswered w-100 m-0" for="{{ val.otp1 }}">
										<h6 class="py-2 px-2 mb-0">
											<i class="{{ 1 === val.user_answered ? 'fa-sharp fa-solid fa-circle-check' : 'fa-regular fa-circle' }} pe-2"></i>
											{{ val.option1 }}
										</h6>
									</label>
								</div>
								<div class="py-1">
									<input type="radio" value="{{ val.option2 }}" id="{{ val.otp2 }}" class="btn-check" name="options" autocomplete="off" />
									<label
										(click)="selectAnswer(val.option2, val, 2)"
										class="{{ 2 === val.user_answered ? 'optionanswered' : 'optionnotansweredy' }}
                                                    text-start quiznotanswered w-100 m-0"
										for="{{ val.otp2 }}">
										<h6 class="py-2 px-2 mb-0">
											<i class="{{ 2 === val.user_answered ? 'fa-sharp fa-solid fa-circle-check' : 'fa-regular fa-circle' }} pe-2"></i>
											{{ val.option2 }}
										</h6>
									</label>
								</div>
								<div class="py-1">
									<input type="radio" value="{{ val.option3 }}" id="{{ val.otp3 }}" class="btn-check" name="options" autocomplete="off" />
									<label (click)="selectAnswer(val.option3, val, 3)" class="{{ 3 === val.user_answered ? 'optionanswered' : 'optionnotanswered' }} text-start quiznotanswered w-100 m-0" for="{{ val.otp3 }}">
										<h6 class="py-2 px-2 mb-0">
											<i class="{{ 3 === val.user_answered ? 'fa-sharp fa-solid fa-circle-check' : 'fa-regular fa-circle' }} pe-2"></i>
											{{ val.option3 }}
										</h6>
									</label>
								</div>
								<div class="py-1">
									<input type="radio" value="{{ val.option4 }}" id="{{ val.otp4 }}" class="btn-check" name="options" autocomplete="off" />
									<label (click)="selectAnswer(val.option4, val, 4)" class="{{ 4 === val.user_answered ? 'optionanswered' : 'optionnotanswered' }} text-start quiznotanswered w-100 m-0" for="{{ val.otp4 }}">
										<h6 class="py-2 px-2 mb-0">
											<i class="{{ 4 === val.user_answered ? 'fa-sharp fa-solid fa-circle-check' : 'fa-regular fa-circle' }} pe-2"></i>
											{{ val.option4 }}
										</h6>
									</label>
								</div>
							</div>
						</div>
					</ng-template>
				</p-carousel>
			</div>
		</div>
	</div>
</div>

<div class="container-fluid bg-white" *ngIf="isInstructionVisible">
    <div class="row justify-content-center">
        <div class="col-md-6 d-flex align-items-center text-start">
            <h4 class="font-primarycolor">ALL THE BEST!</h4>
        </div>
        <div class="col-md-6 text-end">
            <button (click)="runQuiz()" class="btn btn-start btn-rounded m-0 px-2 py-2" [disabled]="!this.quizData">
                <div class="d-flex align-items-center">
                    <span class="fw-normal h6 mb-0 ps-3 pe-2">Start</span>
                    <div class="btn-icon"><i class="fa-solid fa-arrow-right"></i></div>
                </div>
            </button>
        </div>
    </div>
</div>

<div class="container-fluid bg-white" *ngIf="isStartQuiz">
    <div class="container-fluid py-3 mt-2 cb-top">
        <div class="row justify-content-center">
            <div class="col-md-6 text-start">
                <p class="mb-0 fw-semibold">Reference</p>
                <p-breadcrumb [model]="breadCrumb" class="max-w-100 quizreference"></p-breadcrumb>
            </div>
            <div class="col-md-6 text-end">
                <button *ngIf="selectedQuiz != 1" class="btn btn-back btn-rounded me-3 px-2 py-2">
                    <div class="d-flex align-items-center">
                        <span class="fw-normal h6 mb-0 ps-3 pe-2">Previous</span>
                        <div class="btn-icon"><i class="fa-solid fa-arrow-left"></i></div>
                    </div>
                </button>
                <button *ngIf="this.quizData.length > this.selectedQuiz" [disabled]="answerOptionClicked"  class="btn btn-start btn-rounded m-0 px-2 py-2">
                    <div class="d-flex align-items-center">
                        <span class="fw-normal h6 mb-0 ps-3 pe-2">Next</span>
                        <div class="btn-icon"><i class="fa-solid fa-arrow-right"></i></div>
                    </div>
                </button>
                <button *ngIf="this.quizData.length <= this.selectedQuiz" (click)="clickSubmitQuiz()" class="btn btn-start btn-rounded m-0 px-2 py-2">
                    <div class="d-flex align-items-center">
                        <span class="fw-normal h6 mb-0 ps-3 pe-2">Submit</span>
                        <div class="btn-icon"><i class="fa-solid fa-check"></i></div>
                    </div>
                </button>
            </div>
        </div>
    </div>
</div>

