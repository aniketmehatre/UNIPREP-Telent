<div class="container-fluid">
  <div class="row">
    <div class="col px-0">
      <div class="card mt-3">
        <div class="card-body text-center">
          <h5>SELECTED COUNTRY</h5>
          <div class="container-fluid">
            <div class="row mb-0 justify-content-center">
              <div *ngFor="let v of countryLists" class="col" role="button">
                <div (click)="selectCountry(v.id)" class="row justify-content-center {{ selectedCountryId == v.id ? 'country-border pr-4 pl-4' : ''}}" >
                  <img alt="country" class="countryicon" src="{{v.flag}}" style="{{ selectedCountryId == v.id ? 'transform: scale(0.75);' : 'transform: scale(0.5);'}}"
                    width="{{ selectedCountryId == v.id ? '350px' : '100px'}}" />
                  <p class="mb-2 text-center text-sm text-capitalize {{ selectedCountryId == v.id ? 'country-text' : 'country-text-small'}}" >
                    {{v.country}}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row mb-0 justify-content-center text-center">
          <div class="badge bg-dark text-wrap bottom-text text-capitalize" style="">
            You Have Currently Selected {{selectedCountryName}}. If you're intrigued by details about other countries, start exploring them now!
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row align-items-center pt-4 pb-4">
    <div class="col-md-5 col-lg-5">
      <h3 class="fw-semibold text-uppercase">
        Welcome To The {{selectedCountryName}}
      </h3>
      <h5 class="fw-normal">
        UNIPREP {{selectedCountryName}} information and content is reviewed
        and accredited by the following entities.
      </h5>
    </div>
    <div class="col-md-7 col-lg-7 p-3 rounded bg-white card">
      <p-carousel
        [numScroll]="1"
        [numVisible]="3"
        [responsiveOptions]="responsiveOptions"
        [showIndicators]="false"
        [value]="university"
        class="text-center"
      >
        <ng-template let-uni pTemplate="item">
          <img alt="{{uni.image}}" class="carousel" src="{{uni.image}}" />
        </ng-template>
      </p-carousel>
      <div class="card-footer text-center border-0 bg-white">
        <button class="btn btn-primary px-4 py-2 m-0">View More</button>
      </div>
    </div>
  </div>
  <div class="row gap-3">
    <div class="col px-0 d-flex">
      <div class="w-100 bg-white rounded card">
        <div class="card-body">
          <iframe
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen
            class="mb-2"
            frameborder="0"
            height="150px"
            src="https://www.youtube.com/embed/f1c4bXesTfk?controls=0"
            title="YouTube video player"
            width="100%"
          ></iframe>
          <h5 class="mb-1">How to use UNIPREP? (DEMO)</h5>
        </div>
      </div>
    </div>
    <div class="col px-0 d-flex">
      <div class="justify-content-center bg-white w-100 card">
        <div class="card-body">
          <div class="row mb-3">
            <div class="col-md-6 col-lg-6 d-flex">
              <button
                (click)="openReading()"
                class="btn w-100 btn-primary homecardbtn m-0 px-4 py-3"
              >
                <i class="fa-regular h3 fa-paste"></i>
                <p class="mb-0">Start<br />Reading</p>
              </button>
            </div>
            <div class="col-md-6 col-lg-6 d-flex align-items-center">
              <div
                [attr.data-percentage]="readProgressionPercentage"
                class="progress"
              >
                <span class="progress-left">
                  <span class="progress-bar"></span>
                </span>
                <span class="progress-right">
                  <span class="progress-bar"></span>
                </span>
                <div class="progress-value">
                  <div>{{readProgressionPercentage }}%<br /></div>
                </div>
              </div>
            </div>
          </div>
          <h5 class="mb-1">Reading</h5>
          <p class="mb-0">Expand your horizons through reading</p>
        </div>
      </div>
    </div>
    <div class="col px-0 d-flex">
      <div class="w-100 justify-content-center bg-white card">
        <div class="card-body">
          <div class="row mb-3">
            <div class="col-md-6 col-lg-6 d-flex">
              <button role="button" style="pointer-events: none;"
                (click)="openQuiz()"
                class="btn w-100 m-0 px-4 py-3 homecardbtn homecardbtnquiz"
              >
                <i class="fa-regular h3 fa-lightbulb-on"></i>
                <p class="mb-1">Start Quiz</p>
                <div class="d-flex justify-content-center">
                  <span class="ellipse-button fw-regular">Launching Soon</span>
              </div>
              </button>
            </div>
            <div class="col-md-6 col-lg-6 d-flex align-items-center">
              <div
                [attr.data-percentage]="readQuizProgressionPercentage"
                class="progress"
              >
                <span class="progress-left">
                  <span class="progress-bar"></span>
                </span>
                <span class="progress-right">
                  <span class="progress-bar"></span>
                </span>
                <div class="progress-value quizcircle">
                  <div>{{readQuizProgressionPercentage}}%<br /></div>
                </div>
              </div>
            </div>
          </div>
          <h5 class="mb-1">Quiz</h5>
          <p class="mb-0">Test your global knowledge</p>
        </div>
      </div>
    </div>
    <div class="col px-0 d-flex">
      <div class="w-100 justify-content-center bg-white card">
        <div class="card-body">
          <div class="row mb-3">
            <div class="col-md-6 col-lg-6 d-flex">
              <button
                class="btn w-100 btn-secondary m-0 px-4 py-3 homecardbtn certificatelock"
              >
                <i class="fa-solid h2 fa-unlock-keyhole certificatelocked"></i>
              </button>
            </div>
            <div
              class="col-md-6 col-lg-6 text-center d-flex justify-content-end align-items-center"
            >
              <!-- <div>
                <button class="btn btn-primary btn-lg homecardbtn" disabled>
                  Share <i class="fa-solid fa-share-nodes"></i>
                </button>
              </div> -->
            </div>
          </div>
          <h5 class="mb-1">Launching Soon</h5>
          <p class="mb-0">Get certified for completing the quiz with an extraordinary score.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div
  [ngStyle]="{ display: continueReading }"
  class="modal modal-bg"
  role="dialog"
  tabindex="-1"
>
  <div
    class="modal-dialog modal-dialog-scrollable modal-dialog-centered"
    role="document"
  >
    <div class="modal-content card bg-light">
      <div class="modal-header">
        <h3 class="mb-0" tooltipZIndex="auto" tooltipPosition="top" pTooltip="Complete the reading for all modules to get the certificate." >
          Continue Reading
          <i class="questiontooltip fa-solid fa-circle-question"></i>
        </h3>
        <div class="popupclose">
          <a (click)="closeReading()" class="close" role="button">
            <span aria-hidden="true"><i class="fa-solid fa-circle-x"></i></span>
          </a>
        </div>
      </div>
      <div class="modal-body card-body">
        <div class="container">
          <div class="row mb-5">
            <div class="col-md-12 px-4">
              
              <div class="row">
                <div
                  *ngFor="let readPro of readingProgressings"
                  class="col-md-6 p-2"
                >
                  <div class="card continuecard">
                    <div class="modal-selected-box d-flex flex-column">
                      <h6 class="fw-semibold">{{readPro.module_name}}</h6>
                      <div class="d-flex justify-content-between">
                        <div>
                          <div
                            [attr.data-percentage]="readPro.progression"
                            class="progress1"
                          >
                            <span class="progress1-left">
                              <span class="progress1-bar"></span>
                            </span>
                            <span class="progress1-right">
                              <span class="progress1-bar"></span>
                            </span>
                            <div class="progress1-value">
                              <div>
                                {{readPro.progression | number: '1.0-0'}}%<br />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="align-items-center justify-content-center" >
                          <div class="d-flex flex-column" *ngIf="readPro.progression_status == 'Pending'">
                            <p class="text-center text-small mb-0" >
                              {{readPro.progression_status}}
                            </p>
                            <button (click)="onClickReadProgression(readPro)" class="btn btn-dark">
                              Read Now
                            </button>
                          </div>
                          <p *ngIf="readPro.progression_status == 'Completed'" class="text-center text-black text-small mb-0" >
                            <strong>{{readPro.progression_status}}</strong>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div [ngStyle]="{ display: continueQuiz }" class="modal modal-bg" role="dialog" tabindex="-1">
  <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered" role="document" >
    <div class="modal-content card bg-light">
      <div class="modal-header">
        <a (click)="closeQuiz()" class="close" role="button">
          <span aria-hidden="true"
            ><img src="/uniprep-assets/images/icons/close_button.svg"
          /></span>
        </a>
      </div>
      <div class="modal-body">
        <div class="container">
          <div class="row mb-3">
            <div class="col-md-12">
              <h3 class="mb-3" tooltipPosition="top" pTooltip="Complete the quiz for all modules to get the certificate.">
                Take Quiz
                <i class="questiontooltip fa-solid fa-circle-question"></i>
              </h3>
              <div class="row">
                <div *ngFor="let quiz of quizProgressings" class="col-md-6 p-2">
                  <div class="card continuecardq">
                    <div class="modal-selected-box d-flex flex-column">
                      <h6 class="fw-semibold">{{quiz.module_name}}</h6>
                      <div class="d-flex justify-content-between">
                        <div>
                          <div
                            [attr.data-percentage]="quiz.progression"
                            class="progress1"
                          >
                            <span class="progress1-left">
                              <span class="progress1-bar"></span>
                            </span>
                            <span class="progress1-right">
                              <span class="progress1-bar"></span>
                            </span>
                            <div class="progress1-value">
                              <div>
                                {{quiz.progression| number: '1.0-0'}}%<br />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div
                          class="d-flex align-items-center justify-content-center"
                        >
                          <p
                            *ngIf="quiz.progression_status == 'Pending'"
                            class="text-center text-small mb-0"
                          >
                            {{quiz.progression_status}}
                            <button
                              (click)="onClickQuizProgression(quiz)"
                              class="btn btn-dark"
                            >
                              Take Quiz
                            </button>
                          </p>
                          <p
                            *ngIf="quiz.progression_status == 'Completed'"
                            class="text-center text-small mb-0"
                          >
                            <strong>{{quiz.progression_status}}</strong>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<p-dialog
  [(visible)]="isVideoVisible"
  [modal]="true"
  [style]="{ width: '30vw' }"
  header="Header"
>
  <ng-template pTemplate="header">
    <span class="text-xl font-bold">Recommended Videos</span>
  </ng-template>
  <div class="container-fluid">
    <p>
      Test video
    </p>
  </div>
</p-dialog>


<p-dialog [(visible)]="isShareWithSocialMedia" [closable]="false" [style]="{ width: 'auto' }" class="p-0 m-0 bg-white"
          class="timerpopup" [modal]="true" [draggable]="false" [resizable]="false">
  <div class="px-5 pb-5 pt-3">
    <div class="justify-content-center text-center pb-5 px-5">

    </div>
  </div>
</p-dialog>