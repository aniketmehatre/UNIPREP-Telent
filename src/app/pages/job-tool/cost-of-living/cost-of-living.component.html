<div class="container-fluid d-flex flex-fill flex-column justify-content-center">
	<div class="row justify-content-center">
		<div class="col-md-12 text-center">
			<h4 class="fw-bold uniprep-primary">Compare the cost of living between two locations around the world</h4>
		</div>
		<div class="col-md-10">
			<form [formGroup]="form" (ngSubmit)="compare()" class="row justify-content-center align-items-center">
				<div class="col-md-5 mb-3 mb-md-0">
					<p-select [options]="sourceCities" formControlName="sourceCity"
						placeholder="Source Location or Country" [filter]="true" filterBy="city_name,country_name"
						[virtualScroll]="true" [virtualScrollItemSize]="50"  [appendTo]="'body'"
						styleClass="w-100 border-secondary">
						<ng-template pTemplate="selectedItem" let-selectedOption>
							<div class="d-flex align-items-center gap-2">
								<div class="dropdownimg"><img [src]="selectedOption.flag" class="img-fluid" /></div>
								<div>
									<span *ngIf="selectedOption.city_name !== null">{{ selectedOption.city_name }},
									</span>{{ selectedOption.country_name }}
								</div>
							</div>
						</ng-template>
						<ng-template let-country pTemplate="item">
							<div class="d-flex align-items-center gap-2">
								<div class="dropdownimg"><img [src]="country.flag" class="img-fluid" /></div>
								<div>
									<span *ngIf="country.city_name !== null">{{ country.city_name }}, </span>{{
									country.country_name }}
								</div>
							</div>
						</ng-template>
					</p-select>
				</div>
				<div class="col-md-5 mb-3 mb-md-0">
					<p-select [options]="targetCities" formControlName="targetCity"
						placeholder="Target Location or Country" [filter]="true" filterBy="city_name,country_name"
						[virtualScroll]="true" [virtualScrollItemSize]="50"  [appendTo]="'body'"
						styleClass="w-100 border-primary">
						<ng-template pTemplate="selectedItem" let-selectedOption>
							<div class="d-flex align-items-center gap-2">
								<div class="dropdownimg"><img [src]="selectedOption.flag" class="img-fluid" /></div>
								<div>
									<span *ngIf="selectedOption.city_name !== null">{{ selectedOption.city_name }},
									</span>{{ selectedOption.country_name }}
								</div>
							</div>
						</ng-template>
						<ng-template let-country pTemplate="item">
							<div class="d-flex align-items-center gap-2">
								<div class="dropdownimg"><img [src]="country.flag" class="img-fluid" /></div>
								<div>
									<span *ngIf="country.city_name !== null">{{ country.city_name }}, </span>{{
									country.country_name }}
								</div>
							</div>
						</ng-template>
					</p-select>
				</div>
				<div class="col-md-2 d-flex justify-content-center">
					<button pButton class="btn btn-primary btn-rounded d-flex gap-2 align-items-center" type="submit"
						[disabled]="form.value.sourceCity === null || form.value.targetCity === null"><span>Compare</span>
						<span class="btn-icon"><i class="pi pi-sync"></i></span></button>
				</div>
			</form>
		</div>
	</div>
</div>
<ng-container *ngIf="!canShowComparision">
	<div class="uniprep-primary h2  text-center fw-bold">
		Did you know ?
	</div>
	<br>
	<p-carousel [value]="costofLivingStatements" [numVisible]="3" [autoplayInterval]="5000" [circular]="true"
		[showNavigators]="false" [showIndicators]="false" [responsiveOptions]="responsiveOptions">
		<ng-template let-cost pTemplate="item">
			<div class="card h-100 costofliving-card m-2">
				<div class="card-body">
					<p class="fw-semibold">{{ cost.statement }}</p>
				</div>
			</div>
		</ng-template>
	</p-carousel>
</ng-container>
<div class="mt-4" *ngIf="canShowComparision">
	<uni-comparision [sourceCountryPrices]="sourceCountryPrices" [targetCountryPrices]="targetCountryPrices"
		[sourcecountryName]="sourcecountryName" [targetcountryName]="targetcountryName"></uni-comparision>
</div>