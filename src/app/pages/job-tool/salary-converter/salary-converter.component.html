<div class="card readingcard">
    <div class="card-body pt-0">

        <div class="row w-100 h-100 m-0 justify-content-center align-items-center">
            <div class="col-3" *ngIf="isPPPCardVisible">
                <div class="card responsivecard p-2 text-center">
                    <div class="card-content">
                        <h4>{{selectedCountryName}}</h4>
                        <div class="row" style="width: -webkit-fill-available !important;">
                            <table class="custom-table">
                                <thead>
                                    <tr>
                                        <th>Income</th>
                                        <th>Tax Rate</th>
                                        <th>Tax Type</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of fromValue">
                                        <td>{{item.income}}</td>
                                        <td>{{item.tax}}</td>
                                        <td>{{item.type}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-6">
                <h3 style="color:var(--uniprep-primary);" class="text-center">Compare your earnings across different countries with professional tax rates.</h3>
                <div class="dropdown-container">
                    <div class="form-group">
                        <div class="mb-3">
                            <p-dropdown id="fromCountry" styleClass="w-100" style="width: 100% !important;"
                                [(ngModel)]="fromCountry" [options]="countries" [filter]="true" filterBy="countryName"
                                [showClear]="true" optionLabel="countryName" (onChange)="onCountryChange($event)"
                                placeholder="Source Country">
                                <ng-template pTemplate="selectedItem">
                                    <div class="flex align-items-center gap-2" *ngIf="fromCountry">
                                        <img [src]="fromCountry.flag" [class]="'flag flag-' + fromCountry.code"
                                            style="width: 18px" />
                                        <div>{{ fromCountry.countryName }}</div>
                                    </div>
                                </ng-template>
                                <ng-template let-country pTemplate="item">
                                    <div class="flex align-items-center gap-2">
                                        <img [src]="country.flag" [class]="'flag flag-' + country.code"
                                            style="width: 18px" />
                                        <div>{{ country.countryName }}</div>
                                    </div>
                                </ng-template>
                            </p-dropdown>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="mb-3">
                            <p-inputNumber id="salary" styleClass="w-100" style="width: 100% !important;"
                                [(ngModel)]="salary" mode="currency" currency="{{selectedCurrencyCode}}"
                                placeholder="Amount in source country's local currency"
                                class="custom-input-number full-width-input"></p-inputNumber>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="mb-3">
                            <!-- <p-dropdown id="toCountry" styleClass="w-100" [(ngModel)]="toCountry" [options]="countries"
                                optionLabel="countryName" [filter]="true" filterBy="countryName" [showClear]="true"
                                (onChange)="onCountryToChange($event)" placeholder="Target Country"></p-dropdown> -->
                                <p-dropdown id="toCountry" styleClass="w-100" style="width: 100% !important;"
                                [(ngModel)]="toCountry" [options]="countries" [filter]="true" filterBy="countryName"
                                [showClear]="true" optionLabel="countryName" (onChange)="onCountryToChange($event)"
                                placeholder="Source Country">
                                <ng-template pTemplate="selectedItem">
                                    <div class="flex align-items-center gap-2" *ngIf="toCountry">
                                        <img [src]="toCountry.flag" [class]="'flag flag-' + toCountry.code"
                                            style="width: 18px" />
                                        <div>{{ toCountry.countryName }}</div>
                                    </div>
                                </ng-template>
                                <ng-template let-country pTemplate="item">
                                    <div class="flex align-items-center gap-2">
                                        <img [src]="country.flag" [class]="'flag flag-' + country.code"
                                            style="width: 18px" />
                                        <div>{{ country.countryName }}</div>
                                    </div>
                                </ng-template>
                            </p-dropdown>


                        </div>
                    </div>
                    <div class="row justify-content-center text-center">
                        <button pButton type="button"
                            class="small-button text-white p-ripple p-button-rounded p-button-primary p-button p-component p-2"
                            (click)="convert()">Compare <i class="fa fa-refresh exhausted-plan-icon"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-3" *ngIf="isPPPCardVisible">
                <div class="card responsivecard p-2 text-center">
                    <div class="card-content">
                        <h4>{{selectedToCountryName}}</h4>
                        <div class="row" style="width: -webkit-fill-available !important;">
                            <table class="custom-table">
                                <thead>
                                    <tr>
                                        <th>Income</th>
                                        <th>Tax Rate</th>
                                        <th>Tax Type</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of toValue">
                                        <td>{{item.income}}</td>
                                        <td>{{item.tax}}</td>
                                        <td>{{item.type}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12" *ngIf="isPPPCardVisible">
                <div class="card primary-color w-100" style="position: relative;">
                    <button type="button" class="btn-close text-white" aria-label="Close"
                        style="color:white !important; position: absolute; top: 10px; right: 10px;"
                        (click)="closeCard()"></button>
                    <div class="card-body pt-0 h-50">
                        <div class="row justify-content-center px-4 py-4">
                            <div class="col-md-8 text-center">
                                <h2 class="mt-4 fw-bold">According to PPP</h2>
                                <h4 style="font-weight: unset !important;" class="mt-4" [innerHTML]="statementText">
                                </h4>
                                <h6 class="text-center mt-4">Note</h6>
                                <h6 style="font-weight: unset !important;" class="mt-2" [innerHTML]="inHomeCurrency">
                                </h6>
                                <!--                                <h5 class="mt-3 fw-bold">A Salary-->
                                <!--                                    of {{ selectedCurrencyCode }} {{ salary | number:'1.2-2' }}-->
                                <!--                                    in {{ selectedCountryName }} is-->
                                <!--                                    equivalent-->
                                <!--                                    to {{ selectedToCurrencyCode }} {{ salaryValueConverted | number:'1.2-2' }}-->
                                <!--                                    in {{ selectedToCountryName }}. That's {{ xValue | number:'1.2-2' }} times the-->
                                <!--                                    amount your make-->
                                <!--                                    in {{ selectedCountryName }}.</h5>-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>