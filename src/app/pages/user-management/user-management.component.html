<div class="container-fluid">
    <form
            [formGroup]="registrationForm"
            (ngSubmit)="onSubmit()">
        <div class="container-fluid px-0">
            <div class="card card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="h-full profilecrd">
                            <div class="d-flex flex-column align-items-center h-full justify-content-center">
                                <div class="profileImg mb-2">{{(user?.name || '').charAt(0)}}</div>
                                <div class="pName text-center bold mt-2">{{user?.name}}</div>
                                <div class="pEmail text-center font-primarycolor">{{user?.email}}</div>
                                <div class="text-center mt-3">
                                    <button (click)="logout()" class="btn btn-primary">SIGN OUT</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="h-full">
                            <div class="row g-3">
                                <div class="col-6">
                                    <label>Full Name</label>
                                    <div class="p-inputgroup">
                                        <div class="p-inputgroup-addon">
                                            <i class="pi pi-user"></i>
                                        </div>
                                        <input
                                                type="text"
                                                class="border-0"
                                                pInputText
                                                formControlName="name"
                                        />
                                    </div>
                                    <div
                                            *ngIf="submitted && f.name.errors"
                                            class="invalid-feedback"
                                    >
                                        <div *ngIf="f.name.errors.required">
                                            First Name is required
                                        </div>
                                    </div>
                                </div>

                                <div class="col-6">
                                    <label>Country</label>
                                    <div class="p-inputgroup">
                                        <div class="p-inputgroup-addon">
                                            <i class="pi pi-map-marker"></i>
                                        </div>
                                        <p-dropdown
                                                appendTo="body"
                                                [filter]="true"
                                                filterBy="name"
                                                optionValue="id"
                                                optionLabel="country"
                                                formControlName="interested_country_id"
                                                [options]="countryList"
                                        ></p-dropdown>
                                    </div>
                                    <div
                                            *ngIf="submitted && f.interested_country_id.errors"
                                            class="invalid-feedback"
                                    >
                                        <div *ngIf="f.interested_country_id.errors.required">
                                            Country is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row g-3">
                                <div class="col-6">
                                    <label>Location</label>
                                    <div class="p-inputgroup">
                                        <div class="p-inputgroup-addon">
                                            <i class="pi pi-map-marker"></i>
                                        </div>
                                        <p-dropdown
                                                appendTo="body"
                                                optionValue="id"
                                                formControlName="location_id"
                                                [options]="locationList"
                                                optionLabel="district"
                                        ></p-dropdown>
                                    </div>
                                    <div
                                            *ngIf="submitted && f.location_id.errors"
                                            class="invalid-feedback"
                                    >
                                        <div *ngIf="f.location_id.errors.required">
                                            Location is required
                                        </div>
                                    </div>
                                </div>

                                <div class="col-6">
                                    <label>Mobile Number</label>
                                    <div class="p-inputgroup">
                                        <div class="p-inputgroup-addon">
                                            <i class="pi pi-mobile"></i>
                                        </div>
                                        <input
                                                [readonly]="true"
                                                type="number"
                                                class="border-0"
                                                pInputText
                                                formControlName="phone"
                                        />
                                    </div>
                                    <div
                                            *ngIf="submitted && f.contactNumber.errors"
                                            class="invalid-feedback"
                                    >
                                        <div *ngIf="f.contactNumber.errors.required">
                                            Contact Number is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row g-3">
                                <div class="col">
                                    <label>Email Address</label>
                                    <div class="p-inputgroup">
                                        <div class="p-inputgroup-addon">
                                            <i class="pi pi-envelope"></i>
                                        </div>
                                        <input
                                                [readonly]="true"
                                                type="text"
                                                pInputText
                                                class="border-0 w-full"
                                                formControlName="email"
                                        />
                                    </div>
                                    <div
                                            *ngIf="submitted && f.email.errors"
                                            class="invalid-feedback"
                                    >
                                        <div *ngIf="f.email.errors.required">
                                            Email Address is required
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row g-3">
                                <div class="col-6">
                                    <label>Interested Country</label>
                                    <div class="p-inputgroup">
                                        <div class="p-inputgroup-addon">
                                            <i class="pi pi-map-marker"></i>
                                        </div>
                                        <p-multiSelect
                                                appendTo="body"
                                                formControlName="interested_country_id"
                                                [options]="countryList"
                                                [(ngModel)]="selectedCountries"
                                                optionValue="id"
                                                optionLabel="country"
                                        ></p-multiSelect>
                                    </div>
                                    <div
                                            *ngIf="submitted && f.interested_country_id.errors"
                                            class="invalid-feedback"
                                    >
                                        <div *ngIf="f.interested_country_id.errors.required">
                                            Interested Country is required
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <label>Last Degree Passing Year</label>
                                    <div class="p-inputgroup">
                                        <div class="p-inputgroup-addon">
                                            <i class="pi pi-map-marker"></i>
                                        </div>
                                        <p-calendar
                                                appendTo="body"
                                                view="year"
                                                [maxDate]="today"
                                                dateFormat="yy"
                                                inputId="yearpicker"
                                                formControlName="last_degree_passing_year"
                                        ></p-calendar>
                                    </div>
                                    <div
                                            *ngIf="submitted && f.last_degree_passing_year.errors"
                                            class="invalid-feedback"
                                    >
                                        <div *ngIf="f.last_degree_passing_year.errors.required">
                                            Passing Year is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row g-3">
                                <div class="col-6">
                                    <label>Inake Year Looking</label>
                                    <div class="p-inputgroup">
                                        <div class="p-inputgroup-addon">
                                            <i class="pi pi-map-marker"></i>
                                        </div>
                                        <p-calendar
                                                [minDate]="today"
                                                (onSelect)="yearChage($event)"
                                                appendTo="body"
                                                view="year"
                                                dateFormat="yy"
                                                inputId="yearpicker"
                                                formControlName="intake_year_looking"
                                        ></p-calendar>
                                    </div>
                                    <div
                                            *ngIf="submitted && f.intake_year_looking.errors"
                                            class="invalid-feedback"
                                    >
                                        <div *ngIf="f.intake_year_looking.errors.required">
                                            Intake Year is required
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <label>Intake Month Looking</label>
                                    <div class="p-inputgroup">
                                        <div class="p-inputgroup-addon">
                                            <i class="pi pi-map-marker"></i>
                                        </div>

                                        <p-calendar
                                                [minDate]="today"
                                                appendTo="body"
                                                formControlName="intake_month_looking"
                                                view="month"
                                                dateFormat="mm"
                                        ></p-calendar>
                                    </div>
                                    <div
                                            *ngIf="submitted && f.intake_month_looking.errors"
                                            class="invalid-feedback"
                                    >
                                        <div *ngIf="f.intake_month_looking.errors.required">
                                            Intake Month is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row g-3">
                                <div class="col-6">
                                    <label>Program Level</label>
                                    <div class="p-inputgroup">
                                        <div class="p-inputgroup-addon">
                                            <i class="pi pi-map-marker"></i>
                                        </div>
                                        <p-dropdown
                                                appendTo="body"
                                                [filter]="true"
                                                filterBy="name"
                                                optionValue="id"
                                                optionLabel="programlevel"
                                                formControlName="programlevel_id"
                                                [options]="programlevelList"
                                        ></p-dropdown>
                                    </div>
                                    <div
                                            *ngIf="submitted && f.programlevel_id.errors"
                                            class="invalid-feedback"
                                    >
                                        <div *ngIf="f.programlevel_id.errors.required">
                                            Program Level is required
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <label>Gender</label>
                                    <div class="p-inputgroup">
                                        <div class="p-inputgroup-addon">
                                            <i class="pi pi-map-marker"></i>
                                        </div>
                                        <p-dropdown
                                                appendTo="body"
                                                [filter]="true"
                                                filterBy="name"
                                                optionValue="name"
                                                optionLabel="name"
                                                formControlName="gender"
                                                [options]="genderList"
                                        ></p-dropdown>
                                    </div>
                                    <div
                                            *ngIf="submitted && f.gender.errors"
                                            class="invalid-feedback"
                                    >
                                        <div *ngIf="f.gender.errors.required">Gender is required</div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <br/>
                <div class="row">
                    <div class="col-12">
                        <div class="profilecrd">
                            <div class="text-center">NOTIFICATIONS</div>
                            <p class="text-muted">Basic information on Data Protection: uniabroad stores your data to
                                improve the service and, with your consent, offers news, promotions and raffles, as well
                                as projects and releases from UNIABROAD</p>
                            <p class="notify d-flex justify-content-between align-items-center">
                                <span style="vertical-align: center">I wish to receive newsletters, promotions and news from UNIABROAD</span>
                                <p-inputSwitch formControlName="notification"></p-inputSwitch>
                            </p>
                            <div class="text-center">
                                <button class="btn btn-primary">SAVE THE CHANGES</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
